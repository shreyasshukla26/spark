{"version":3,"sources":["webpack:///src/app/main/EV-space/subsidy/subsidy-routing.module.ts","webpack:///src/app/main/EV-space/subsidy/action-dialog/action-dialog.component.ts","webpack:///src/app/main/EV-space/subsidy/action-dialog/action-dialog.component.html","webpack:///src/app/main/EV-space/subsidy/view-dialog/view-dialog.component.ts","webpack:///src/app/main/EV-space/subsidy/view-dialog/view-dialog.component.html","webpack:///src/app/main/EV-space/subsidy/subsidy-crud/subsidy-crud.component.ts","webpack:///src/app/main/EV-space/subsidy/subsidy-crud/subsidy-crud.component.html","webpack:///src/app/main/EV-space/subsidy/subsidy-crud/routes.ts","webpack:///src/app/main/EV-space/subsidy/list2Wheeler/list2Wheelers.component.ts","webpack:///src/app/main/EV-space/subsidy/list2Wheeler/list2Wheelers.component.html","webpack:///src/app/main/EV-space/subsidy/list/list.component.ts","webpack:///src/app/main/EV-space/subsidy/list/list.component.html","webpack:///src/app/main/EV-space/subsidy/list4Wheelers/list4Wheelers.component.ts","webpack:///src/app/main/EV-space/subsidy/list4Wheelers/list4Wheelers.component.html","webpack:///src/app/main/EV-space/subsidy/subsidy.module.ts","webpack:///src/app/main/EV-space/subsidy/create/create.component.ts","webpack:///src/app/main/EV-space/subsidy/create/create.component.html"],"names":["routes","path","component","canActivate","children","SubsidyRoutingModule","forChild","imports","exports","autocompleteObjectValidator","control","value","ActionDialogComponent","fb","govtSubsidyService","snackBar","dialogRef","data","countryService","isEditMode","status","initialize","localStorage","JSON","parse","getItem","params","action","getVehicle","getStatesByCountry","form","group","state","required","battery_kwh","pattern","capacity","max_subsidy","road_tax_exemption","vehicle","assignValues","getAllState","countryID","getStateByCountry","subscribe","states","toSelect","find","c","id","state_id","get","setValue","filteredOptionState","controls","valueChanges","pipe","name","_filterState","err","getVehicleTypes","resp","vehicles","vehicle_type_id","filteredOptionsVehicle","_filterVehicleModels","close","valid","formValues","per_KWh_of_battery","modifyby","userId","createdby","updateSubsidy","open","recordUpdateMessage","duration","errorMessage","subsidy","subsidyCreate","hasError","event","checked","ref","item","filterValue","toLowerCase","filter","option","includes","statedata","closeActionPanel","updateStatus","onYesClick","selector","templateUrl","styleUrls","encapsulation","None","animations","ViewDialogComponent","isPublish","isModrate","buttonAction","modify_by","created_by","publishSubsidy","moderateSubsidy","SubsidyCrudComponent","router","cdr","_utilityService","tabLinks","tempLinks","activeMenuItems$","menuItemSelecte","menuArray","undefined","title","detectChanges","nav_list","nav_list_with_tab","x","objectData","y","objectChildData","isDefaultRoutePermeted","z","push","label","link","navigate","TABS_DEMO_ROUTES","redirectTo","pathMatch","Cpo","List2WheelersComponent","dialog","displayedColumns","head","stateSearch","vehicleSearch","batterySearch","capcitySearch","roadSearch","statusSearch","getCpos","filterEntity","filterType","ANYWHERE","target","dataSource","trim","paginator","firstPage","getSubsidyByVehicleTypeId","subsidys","i","length","statusString","sort","NoRecordFoundMessage","confirmDialogRef","disableClose","width","autoFocus","panelClass","afterClosed","result","visibleOption","ev","stopPropagation","state_name","vehicle_type","exportedData","filteredData","subsidyModel","workSheet","json_to_sheet","workBook","book_new","book_append_sheet","doc","img","Image","imgRight","src","srcSparkEV","createdDate","Date","toLocaleString","setFontSize","setTextColor","autoTable","body","theme","headStyles","fontStyle","fillColor","styles","cellPadding","fontSize","margin","top","didDrawCell","didDrawPage","addImage","text","internal","pageSize","getWidth","align","setGState","GState","opacity","f_Name","addWaterMark","output","save","newpage","getNumberOfPages","String","tableExport","pdfExport","ListComponent","getModrateSubsidy","getAllModerateSubsidyList","deleteSubsidy","deleteMessage","element","List4WheelersComponent","COMPONENTS","COMPONENTS_DYNAMIC","SubsidyModule","declarations","entryComponents","CreateComponent","_filtervehiclesModels","message","onSubmit","$event","preventDefault"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,UAAMA,MAAM,GAAY,CACpB;AACIC,YAAI,EAAG,MADX;AACkBC,iBAAS,EAAG,yFAD9B;AACmDC,mBAAW,EAAE,CAAC,4EAAD,CADhE;AAC6EC,gBAAQ,EAAG;AADxF,OADoB,CAAxB;;UAYaC,oB;;;;;cAAAA;;;;2BAAAA,oB;AAAoB,S;AAAA,kBAJnB,CAAC,6DAAaC,QAAb,CAAsBN,MAAtB,CAAD,CAImB,EAHlB,4DAGkB;;;;4HAApBK,oB,EAAoB;AAAA;AAAA,oBAHlB,4DAGkB;AAAA,S;AAHN,O;;;;;wEAGdA,oB,EAAoB;gBALhC,sDAKgC;iBALvB;AACNE,mBAAO,EAAG,CAAC,6DAAaD,QAAb,CAAsBN,MAAtB,CAAD,CADJ;AAENQ,mBAAO,EAAG,CAAC,4DAAD;AAFJ,W;AAKuB,U;;;;;;;;;;;;;;;;;;ACjBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACiBY;;AACE;;AACF;;;;;;AAFkE;;AAChE;;AAAA;;;;;;AAIF;;AAA+C;;AAAqB;;;;;;AAOpE;;AACE;;AACF;;;;;;AAF+D;;AAC7D;;AAAA;;;;;;AAOF;;AAA6C;;AAC/C;;;;;;AAQA;;AAAgE;;AAA4B;;;;;;AAC5F;;AAA+D;;AAAiC;;;;;;AAMhG;;AAA6D;;AAAqB;;;;ADzC5F,eAASC,2BAAT,GAAoC;AAClC,eAAO,UAACC,OAAD,EAA6D;AAClE,cAAI,OAAOA,OAAO,CAACC,KAAf,KAAyB,QAA7B,EAAuC;AACrC,mBAAO;AAAE,2CAA6B;AAAEA,qBAAK,EAAED,OAAO,CAACC;AAAjB;AAA/B,aAAP;AACD;;AACD,iBAAO,IAAP;AAAa;AACd,SALD;AAMD;;UAQYC,qB;AAkBX,uCAAoBC,EAApB,EAA4CC,kBAA5C,EAA2FC,QAA3F,EACSC,SADT,EACyFC,IADzF,EACqHC,cADrH,EACuJ;AAAA;;AADnI,eAAAL,EAAA,GAAAA,EAAA;AAAwB,eAAAC,kBAAA,GAAAA,kBAAA;AAA+C,eAAAC,QAAA,GAAAA,QAAA;AAClF,eAAAC,SAAA,GAAAA,SAAA;AAAgF,eAAAC,IAAA,GAAAA,IAAA;AAA4B,eAAAC,cAAA,GAAAA,cAAA;AAhBrH,eAAAC,UAAA,GAAa,KAAb;AAUA,eAAAC,MAAA,GAAS,KAAT;AAM0J;;;;qCAE/I;AACT,iBAAKC,UAAL;AACD;;;uCAEY;AAEX,iBAAKC,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAWF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAX,CAApB;AAEA,iBAAKC,MAAL,GAAc,KAAKT,IAAnB;AAEA,iBAAKE,UAAL,GAAkB,KAAKO,MAAL,CAAYC,MAAZ,IAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAA3D;AACA,iBAAKC,UAAL;AACA,iBAAKC,kBAAL,CAAwB,CAAxB;AACA,iBAAKC,IAAL,GAAY,KAAKjB,EAAL,CAAQkB,KAAR,CAAc;AACxBC,mBAAK,EAAC,CAAC,EAAD,EAAI,CAACvB,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CADkB;AAExBC,yBAAW,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWD,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,UAAnB,CAArB,CAAL,CAFW;AAGxBC,sBAAQ,EAAG,CAAC,EAAD,EAAK,CAAC,0DAAWH,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,iBAAnB,CAArB,CAAL,CAHa;AAIxBE,yBAAW,EAAE,CAAC,EAAD,CAJW;AAKxBC,gCAAkB,EAAG,CAAC,EAAD,CALG;AAMxBC,qBAAO,EAAC,CAAC,EAAD,EAAI,CAAC9B,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CANgB;AAOzBb,oBAAM,EAAG,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B;AAPZ,aAAd,CAAZ;;AAUA,gBAAI,KAAKD,UAAT,EAAqB;AACnB,mBAAKqB,YAAL,CAAkB,KAAKd,MAAvB;AACD;;AACD,iBAAKe,WAAL,CAAiB,CAAjB;AACD;;;sCAEWC,S,EAAS;AAAA;;AACnB,iBAAKxB,cAAL,CAAoByB,iBAApB,CAAsCD,SAAtC,EAAiDE,SAAjD,CACE,UAAC3B,IAAD,EAAY;AACV;AACA,mBAAI,CAAC4B,MAAL,GAAc5B,IAAd;;AACA,kBAAG,KAAI,CAACE,UAAR,EAAmB;AACjB;AACA,oBAAM2B,QAAQ,GAAG,KAAI,CAACD,MAAL,CAAYE,IAAZ,CAAiB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,EAAF,IAAQ,KAAI,CAACvB,MAAL,CAAYT,IAAZ,CAAiBiC,QAA7B;AAAA,iBAAlB,CAAjB;;AACA,qBAAI,CAACpB,IAAL,CAAUqB,GAAV,CAAc,OAAd,EAAuBC,QAAvB,CAAgCN,QAAhC;;AAEA,qBAAI,CAACO,mBAAL,GAA2B,KAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CACzBC,IADyB,CAE3B,iEAAU,EAAV,CAF2B,EAG3B;AACA,2EAAI,UAAA7C,KAAK;AAAA,yBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,iBAAT,CAJ2B,EAK3B,2DAAI,UAAAA,IAAI;AAAA,yBAAIA,IAAI,GAAG,KAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,KAAI,CAACZ,MAA1C;AAAA,iBAAR,CAL2B,CAA3B;AAOD;AAEC,aAlBN,EAkBO,UAACc,GAAD,EAAO,CAER,CApBN;AAsBD;;;uCAGY;AAAA;;AACX,iBAAK7C,kBAAL,CAAwB8C,eAAxB,GAA0ChB,SAA1C,CACE,UAACiB,IAAD,EAAe;AACb,oBAAI,CAACC,QAAL,GAAgBD,IAAhB;;AAEA,kBAAI,MAAI,CAAC1C,UAAT,EAAqB;AAEnB,oBAAM2B,QAAQ,GAAG,MAAI,CAACgB,QAAL,CAAcf,IAAd,CAAmB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,EAAF,IAAQ,MAAI,CAACvB,MAAL,CAAYT,IAAZ,CAAiB8C,eAA7B;AAAA,iBAApB,CAAjB;;AACA,sBAAI,CAACjC,IAAL,CAAUqB,GAAV,CAAc,SAAd,EAAyBC,QAAzB,CAAkCN,QAAlC;AACD;;AACD,oBAAI,CAACkB,sBAAL,GAA8B,MAAI,CAAClC,IAAL,CAAUwB,QAAV,CAAmBf,OAAnB,CAA2BgB,YAA3B,CAC3BC,IAD2B,CAE1B,iEAAU,EAAV,CAF0B,EAG1B,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAH0B,EAI1B,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,MAAI,CAACQ,oBAAL,CAA0BR,IAA1B,CAAH,GAAqC,MAAI,CAACK,QAAlD;AAAA,eAAR,CAJ0B,CAA9B;AAMD,aAfH,EAeK,UAACH,GAAD,EAAS,CAEX,CAjBH;AAoBD;;;kCAEO;AAEN,iBAAK3C,SAAL,CAAekD,KAAf;AACD;;;6CACe;AACd,iBAAKlD,SAAL,CAAekD,KAAf;AACD;;;uCAEY;AAAA;;AACX,gBAAG,KAAKpC,IAAL,CAAUqC,KAAb,EAAmB;AACjB,kBAAIC,UAAU,GAAG,KAAKtC,IAAL,CAAUnB,KAA3B;AACA,kBAAMe,MAAM,GAAQ;AAClBwB,wBAAQ,EAAGkB,UAAU,CAACpC,KAAX,CAAiBiB,EADV;AAElBoB,kCAAkB,EAACD,UAAU,CAAClC,WAFZ;AAGlBE,wBAAQ,EAACgC,UAAU,CAAChC,QAHF;AAIlBC,2BAAW,EAAC+B,UAAU,CAAC/B,WAJL;AAKlBC,kCAAkB,EAAC8B,UAAU,CAAC9B,kBALZ;AAMlByB,+BAAe,EAACK,UAAU,CAAC7B,OAAX,CAAmBU,EANjB;AAOlB7B,sBAAM,EAAI,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B;AAPpB,eAApB;;AAUA,kBAAI,KAAKD,UAAT,EAAqB;AACnBO,sBAAM,CAACuB,EAAP,GAAY,KAAKvB,MAAL,CAAYT,IAAZ,CAAiBgC,EAA7B,EACEvB,MAAM,CAAC4C,QAAP,GAAkB,KAAKhD,YAAL,CAAkBiD,MADtC;AAED,eAHD,MAGO;AACL7C,sBAAM,CAAC8C,SAAP,GAAmB,KAAKlD,YAAL,CAAkBiD,MAArC;AACD;;AAED,kBAAI,KAAKpD,UAAT,EAAqB;AACnB,qBAAKL,kBAAL,CAAwB2D,aAAxB,CAAsC/C,MAAtC,EAA8CkB,SAA9C,CACE,UAACiB,IAAD,EAAe;AACb,sBAAGA,IAAI,CAACzC,MAAL,IAAe,IAAlB,EAAuB;AACrB,0BAAI,CAACL,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBC,mBAAnC,EAAwD,SAAxD,EAAmE;AAAEC,8BAAQ,EAAE;AAAZ,qBAAnE;;AACA,0BAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD;AAEF,iBAPH,EAQE,UAACP,GAAD,EAAS;AACP,wBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,4BAAQ,EAAE;AAAZ,mBAA5D;AACD,iBAVH;AAYD,eAbD,MAaO;AACL,qBAAK9D,kBAAL,CAAwBgE,OAAxB,CAAgCpD,MAAhC,EAAwCkB,SAAxC,CACE,UAAC3B,IAAD,EAAe;AACb,wBAAI,CAACF,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBK,aAAnC,EAAkD,SAAlD,EAA6D;AAAEH,4BAAQ,EAAE;AAAZ,mBAA7D;;AACA,wBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD,iBAJH,EAKE,UAACP,GAAD,EAAS;AACP,wBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,4BAAQ,EAAE;AAAZ,mBAA5D;AACD,iBAPH;AAUD;;AAED,mBAAK5D,SAAL,CAAekD,KAAf,CAAqBxC,MAArB;AACD,aA9CD,MA8CK;AACH,mBAAKX,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,wBAAQ,EAAE;AAAZ,eAA5D;AACD;AAEF;;;0CAEe9C,I,EAAiB;AAC/B,mBAAOA,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,UAA3B,IACH,wBADG,GAEHlD,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,OAA3B,IACE,mBADF,GAEE,EAJN;AAKD;;;uCAEYtD,M,EAAQ;AAEnB,iBAAKI,IAAL,CAAUqB,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC1B,MAAM,CAACT,IAAP,CAAYoD,kBAAlD;AACA,iBAAKvC,IAAL,CAAUqB,GAAV,CAAc,UAAd,EAA0BC,QAA1B,CAAmC1B,MAAM,CAACT,IAAP,CAAYmB,QAA/C;AACA,iBAAKN,IAAL,CAAUqB,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC1B,MAAM,CAACT,IAAP,CAAYoB,WAAlD;AACA,iBAAKP,IAAL,CAAUqB,GAAV,CAAc,oBAAd,EAAoCC,QAApC,CAA6C1B,MAAM,CAACT,IAAP,CAAYqB,kBAAzD;AAEA,iBAAKlB,MAAL,GAAcM,MAAM,CAACT,IAAP,CAAYG,MAAZ,IAAsB,GAAtB,GAA4B,IAA5B,GAAmC,KAAjD;AACD;;;uCAEY6D,K,EAAO;AAClB,iBAAK7D,MAAL,GAAc6D,KAAK,CAACC,OAApB;AACA,iBAAKC,GAAL,CAASD,OAAT,GAAmB,KAAK9D,MAAxB;AACD;;;yCACcgE,I,EAAS;AACtB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;+CAC4BA,I,EAAY;AACvC,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKxB,QAAL,CAAcyB,MAAd,CAAqB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAA3B,CAAP;AACD;;;6CAEkBrD,K,EAAO;AAAA;;AACxB;AACA,iBAAKd,cAAL,CAAoByB,iBAApB,CAAsC,CAAtC,EAAyCC,SAAzC,CACE,UAAC8C,SAAD,EAAoB;AAClB;AACA,oBAAI,CAAC7C,MAAL,GAAc6C,SAAd,CAFkB,CAGlB;AACA;;AAEA,oBAAI,CAACrC,mBAAL,GAA2B,MAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CACxBC,IADwB,CAEvB,iEAAU,EAAV,CAFuB,EAGvB,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAHuB,EAIvB,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,MAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,MAAI,CAACZ,MAA1C;AAAA,eAAR,CAJuB,CAA3B;AAOD,aAdH,EAcK,UAACc,GAAD,EAAS,CAEX,CAhBH;AAkBD;;;uCAGYyB,I,EAAS;AACpB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;uCACoBA,I,EAAY;AAC/B,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKzC,MAAL,CAAY0C,MAAZ,CAAmB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAAzB,CAAP;AACD;;;;;;;yBA3NUzE,qB,EAAqB,2H,EAAA,kL,EAAA,wI,EAAA,sI,EAAA,gEAmBiC,wEAnBjC,C,EAmBgD,uJ;AAAA,O;;;cAnBrEA,qB;AAAqB,0C;AAAA;AAAA;;;;;;;;;;;;;;;ACzBlC;;AAA6D;AAAA,qBAAS,IAAA+E,gBAAA,EAAT;AAA2B,aAA3B;;AACQ;;AAAK;;AAG1E;;AAAoC;;AAAc;;AAClD;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAEA;;AACE;;;;AAGF;;AACE;;AAA2C;;AAAW;;AACtD;;AACJ;;AACA;;AACE;;AAAW;;AAAK;;AAChB;;AAEA;;AACE;;;;AAGF;;AACA;;AACE;;AAA2C;;AAAW;;AACtD;;AAA4E;;AAAa;;AAC3F;;AACE;;AAEJ;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAEA;;AACA;;AACF;;AACA;;AACE;;AAAW;;AAAQ;;AACnB;;AACA;;AAA4E;;AAAa;;AACzF;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AACA;;AAAwE;;AAAI;;AAC9E;;AAEA;;AACE;;AAAW;;AAAkB;;AAC7B;;AACA;;AAAgF;;AAAI;;AACtF;;AACF;;AAIA;;AACE;;AACE;;AAAqF;AAAA,qBAAU,IAAAC,YAAA,QAAV;AAA8B,aAA9B;;AAEnF;;AAAoC;;AACxC;;AACF;;AACA;;AACE;;AAAqE;AAAA,qBAAS,IAAAC,UAAA,EAAT;AAAqB,aAArB;;AAAuB;;AACzE;;AACnB;;AAAkE;AAAA,qBAAS,IAAA3B,KAAA,EAAT;AAAgB,aAAhB;;AAAkB;;AAAM;;AAC5F;;AAEF;;AACF;;AACF;;;;;;;;AA/EU;;AAAA;;AAKyE;;AAAA;;AAExB;;AAAA;;AAChB;;AAAA;;AAKnB;;AAAA;;AAIsC;;AAAA;;AAEL;;AAAA;;AACd;;AAAA;;AAQnB;;AAAA;;AASF;;AAAA;;AACA;;AAAA;;AAMA;;AAAA;;AAsBsD;;AAAA;;AAEhE;;AAAA;;AAIwF;;AAAA;;;;;;;;qBDxDnF;;;;;;wEAEJtD,qB,EAAqB;gBAPjC,uDAOiC;iBAPvB;AACTkF,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOuB,U;;;;;;;;;;;;oBAmB0B,oD;qBAAO,wE;;;;;;AAPrChB,aAAG,EAAE,CAAF;kBAA9B,uDAA8B;mBAApB,e;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AEvCnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACiBY;;AACE;;AACF;;;;;;AAFkE;;AAChE;;AAAA;;;;;;AAIF;;AAA+C;;AAAqB;;;;;;AAOpE;;AACE;;AACF;;;;;;AAF+D;;AAC7D;;AAAA;;;;;;AAOF;;AAA6C;;AAC/C;;;;;;AAQA;;AAAgE;;AAA4B;;;;;;AAC5F;;AAA+D;;AAAiC;;;;;;AAMhG;;AAA6D;;AAAqB;;;;;;;;AA4BpF;;AAAwF;AAAA;;AAAA;;AAAA;AAAA;;AAAsB;;AAAO;;;;;;;;AACrH;;AAAwF;AAAA;;AAAA;;AAAA;AAAA;;AAAsB;;AAAQ;;;;ADtE9H,eAAS1E,2BAAT,GAAoC;AAClC,eAAO,UAACC,OAAD,EAA6D;AAClE,cAAI,OAAOA,OAAO,CAACC,KAAf,KAAyB,QAA7B,EAAuC;AACrC,mBAAO;AAAE,2CAA6B;AAAEA,qBAAK,EAAED,OAAO,CAACC;AAAjB;AAA/B,aAAP;AACD;;AACD,iBAAO,IAAP;AAAa;AACd,SALD;AAMD;;UAQYyF,mB;AAqBX,qCAAoBvF,EAApB,EAA4CC,kBAA5C,EAA2FC,QAA3F,EACSC,SADT,EACuFC,IADvF,EACmHC,cADnH,EACqJ;AAAA;;AADjI,eAAAL,EAAA,GAAAA,EAAA;AAAwB,eAAAC,kBAAA,GAAAA,kBAAA;AAA+C,eAAAC,QAAA,GAAAA,QAAA;AAClF,eAAAC,SAAA,GAAAA,SAAA;AAA8E,eAAAC,IAAA,GAAAA,IAAA;AAA4B,eAAAC,cAAA,GAAAA,cAAA;AAnBnH,eAAAC,UAAA,GAAa,KAAb;AAUA,eAAAC,MAAA,GAAS,KAAT;AAKA,eAAAiF,SAAA,GAAoB,KAApB;AACA,eAAAC,SAAA,GAAoB,KAApB;AAGwJ;;;;qCAC7I;AACT,iBAAKjF,UAAL;AACD;;;uCAEY;AAEX,iBAAKC,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAWF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAX,CAApB;AAEA,iBAAKC,MAAL,GAAc,KAAKT,IAAnB;AAEA,iBAAKE,UAAL,GAAkB,KAAKO,MAAL,CAAYC,MAAZ,IAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAA3D;AACA,iBAAK0E,SAAL,GAAiB,KAAK3E,MAAL,CAAY6E,YAAZ,IAA4B,eAA5B,GAA6C,IAA7C,GAAkD,KAAnE;AACA,iBAAKD,SAAL,GAAiB,KAAK5E,MAAL,CAAY6E,YAAZ,IAA4B,eAA5B,GAA6C,IAA7C,GAAkD,KAAnE;AACA,iBAAK3E,UAAL;AACA,iBAAKC,kBAAL,CAAwB,CAAxB;AACA,iBAAKC,IAAL,GAAY,KAAKjB,EAAL,CAAQkB,KAAR,CAAc;AACxBC,mBAAK,EAAC,CAAC,EAAD,EAAI,CAACvB,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CADkB;AAExBC,yBAAW,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWD,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,UAAnB,CAArB,CAAL,CAFW;AAGxBC,sBAAQ,EAAG,CAAC,EAAD,EAAK,CAAC,0DAAWH,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,iBAAnB,CAArB,CAAL,CAHa;AAIxBE,yBAAW,EAAE,CAAC,EAAD,CAJW;AAKxBC,gCAAkB,EAAG,CAAC,EAAD,CALG;AAMxBC,qBAAO,EAAC,CAAC,EAAD,EAAI,CAAC9B,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CANgB;AAOzBb,oBAAM,EAAG,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B;AAPZ,aAAd,CAAZ;;AAUA,gBAAI,KAAKD,UAAT,EAAqB;AACnB,mBAAKqB,YAAL,CAAkB,KAAKd,MAAvB;AACD;;AACD,iBAAKe,WAAL,CAAiB,CAAjB;AACD;;;sCACaC,S,EAAS;AAAA;;AACnB,iBAAKxB,cAAL,CAAoByB,iBAApB,CAAsCD,SAAtC,EAAiDE,SAAjD,CACE,UAAC3B,IAAD,EAAY;AACV;AACA,oBAAI,CAAC4B,MAAL,GAAc5B,IAAd;;AACA,kBAAG,MAAI,CAACE,UAAR,EAAmB;AACjB;AACA,oBAAM2B,QAAQ,GAAG,MAAI,CAACD,MAAL,CAAYE,IAAZ,CAAiB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,EAAF,IAAQ,MAAI,CAACvB,MAAL,CAAYT,IAAZ,CAAiBiC,QAA7B;AAAA,iBAAlB,CAAjB;;AACA,sBAAI,CAACpB,IAAL,CAAUqB,GAAV,CAAc,OAAd,EAAuBC,QAAvB,CAAgCN,QAAhC;;AAEA,sBAAI,CAACO,mBAAL,GAA2B,MAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CACzBC,IADyB,CAE3B,iEAAU,EAAV,CAF2B,EAG3B;AACA,2EAAI,UAAA7C,KAAK;AAAA,yBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,iBAAT,CAJ2B,EAK3B,2DAAI,UAAAA,IAAI;AAAA,yBAAIA,IAAI,GAAG,MAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,MAAI,CAACZ,MAA1C;AAAA,iBAAR,CAL2B,CAA3B;AAOD;AAEC,aAlBN,EAkBO,UAACc,GAAD,EAAO,CAER,CApBN;AAsBD;;;uCAGY;AAAA;;AACX,iBAAK7C,kBAAL,CAAwB8C,eAAxB,GAA0ChB,SAA1C,CACE,UAACiB,IAAD,EAAe;AACb,oBAAI,CAACC,QAAL,GAAgBD,IAAhB;;AAEA,kBAAI,MAAI,CAAC1C,UAAT,EAAqB;AAEnB,oBAAM2B,QAAQ,GAAG,MAAI,CAACgB,QAAL,CAAcf,IAAd,CAAmB,UAAAC,CAAC;AAAA,yBAAIA,CAAC,CAACC,EAAF,IAAQ,MAAI,CAACvB,MAAL,CAAYT,IAAZ,CAAiB8C,eAA7B;AAAA,iBAApB,CAAjB;;AACA,sBAAI,CAACjC,IAAL,CAAUqB,GAAV,CAAc,SAAd,EAAyBC,QAAzB,CAAkCN,QAAlC;AACD;;AACD,oBAAI,CAACkB,sBAAL,GAA8B,MAAI,CAAClC,IAAL,CAAUwB,QAAV,CAAmBf,OAAnB,CAA2BgB,YAA3B,CAC3BC,IAD2B,CAE1B,iEAAU,EAAV,CAF0B,EAG1B,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAH0B,EAI1B,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,MAAI,CAACQ,oBAAL,CAA0BR,IAA1B,CAAH,GAAqC,MAAI,CAACK,QAAlD;AAAA,eAAR,CAJ0B,CAA9B;AAMD,aAfH,EAeK,UAACH,GAAD,EAAS,CAEX,CAjBH;AAoBD;;;kCAEO;AAEN,iBAAK3C,SAAL,CAAekD,KAAf;AACD;;;6CACe;AACd,iBAAKlD,SAAL,CAAekD,KAAf;AACD;;;uCAEY;AAAA;;AACX,gBAAG,KAAKpC,IAAL,CAAUqC,KAAb,EAAmB;AACjB,kBAAIC,UAAU,GAAG,KAAKtC,IAAL,CAAUnB,KAA3B;AACA,kBAAMe,MAAM,GAAQ;AAClBwB,wBAAQ,EAAGkB,UAAU,CAACpC,KAAX,CAAiBiB,EADV;AAElBoB,kCAAkB,EAACD,UAAU,CAAClC,WAFZ;AAGlBE,wBAAQ,EAACgC,UAAU,CAAChC,QAHF;AAIlBC,2BAAW,EAAC+B,UAAU,CAAC/B,WAJL;AAKlBC,kCAAkB,EAAC8B,UAAU,CAAC9B,kBALZ;AAMlByB,+BAAe,EAACK,UAAU,CAAC7B,OAAX,CAAmBwB,eANjB;AAOlB3C,sBAAM,EAAI,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B;AAPpB,eAApB;;AAUA,kBAAI,KAAKD,UAAT,EAAqB;AACnBO,sBAAM,CAACuB,EAAP,GAAY,KAAKvB,MAAL,CAAYT,IAAZ,CAAiBgC,EAA7B,EACEvB,MAAM,CAAC8E,SAAP,GAAmB,KAAKlF,YAAL,CAAkBiD,MADvC;AAED,eAHD,MAGO;AACL7C,sBAAM,CAAC+E,UAAP,GAAoB,KAAKnF,YAAL,CAAkBiD,MAAtC;AACD;;AAED,kBAAI,KAAKpD,UAAT,EAAqB;AACnB,qBAAKL,kBAAL,CAAwB2D,aAAxB,CAAsC/C,MAAtC,EAA8CkB,SAA9C,CACE,UAACiB,IAAD,EAAe;AACb,sBAAGA,IAAI,CAACzC,MAAL,IAAe,IAAlB,EAAuB;AACrB,0BAAI,CAACL,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBC,mBAAnC,EAAwD,SAAxD,EAAmE;AAAEC,8BAAQ,EAAE;AAAZ,qBAAnE;;AACA,0BAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD;AAEF,iBAPH,EAQE,UAACP,GAAD,EAAS;AACP,wBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,4BAAQ,EAAE;AAAZ,mBAA5D;AACD,iBAVH;AAYD,eAbD,MAaO;AACL,qBAAK9D,kBAAL,CAAwBgE,OAAxB,CAAgCpD,MAAhC,EAAwCkB,SAAxC,CACE,UAAC3B,IAAD,EAAe;AACb,wBAAI,CAACF,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBK,aAAnC,EAAkD,SAAlD,EAA6D;AAAEH,4BAAQ,EAAE;AAAZ,mBAA7D;;AACA,wBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD,iBAJH,EAKE,UAACP,GAAD,EAAS;AACP,wBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,4BAAQ,EAAE;AAAZ,mBAA5D;AACD,iBAPH;AAUD;;AAED,mBAAK5D,SAAL,CAAekD,KAAf,CAAqBxC,MAArB;AACD,aA9CD,MA8CK;AACH,mBAAKX,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,wBAAQ,EAAE;AAAZ,eAA5D;AACD;AAEF;;;0CAEe9C,I,EAAiB;AAC/B,mBAAOA,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,UAA3B,IACH,wBADG,GAEHlD,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,OAA3B,IACE,mBADF,GAEE,EAJN;AAKD;;;uCAEYtD,M,EAAQ;AAEnB,iBAAKI,IAAL,CAAUqB,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC1B,MAAM,CAACT,IAAP,CAAYoD,kBAAlD;AACF,iBAAKvC,IAAL,CAAUqB,GAAV,CAAc,UAAd,EAA0BC,QAA1B,CAAmC1B,MAAM,CAACT,IAAP,CAAYmB,QAA/C;AACA,iBAAKN,IAAL,CAAUqB,GAAV,CAAc,aAAd,EAA6BC,QAA7B,CAAsC1B,MAAM,CAACT,IAAP,CAAYoB,WAAlD;AACA,iBAAKP,IAAL,CAAUqB,GAAV,CAAc,oBAAd,EAAoCC,QAApC,CAA6C1B,MAAM,CAACT,IAAP,CAAYqB,kBAAzD;AAEE,iBAAKlB,MAAL,GAAcM,MAAM,CAACT,IAAP,CAAYG,MAAZ,IAAsB,GAAtB,GAA4B,IAA5B,GAAmC,KAAjD;AACD;;;uCAEY6D,K,EAAO;AAClB,iBAAK7D,MAAL,GAAc6D,KAAK,CAACC,OAApB;AACA,iBAAKC,GAAL,CAASD,OAAT,GAAmB,KAAK9D,MAAxB;AACD;;;yCACcgE,I,EAAS;AACtB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;+CAC4BA,I,EAAY;AACvC,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKxB,QAAL,CAAcyB,MAAd,CAAqB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAA3B,CAAP;AACD;;;6CAEkBrD,K,EAAO;AAAA;;AACxB,iBAAKkB,QAAL,GAAgBlB,KAAK,CAACiB,EAAtB;AACA,iBAAK/B,cAAL,CAAoByB,iBAApB,CAAsC,KAAKO,QAA3C,EAAqDN,SAArD,CACE,UAAC8C,SAAD,EAAoB;AAClB;AACA,oBAAI,CAAC7C,MAAL,GAAc6C,SAAd,CAFkB,CAGlB;AACA;;AAEA,oBAAI,CAACrC,mBAAL,GAA2B,MAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CACxBC,IADwB,CAEvB,iEAAU,EAAV,CAFuB,EAGvB,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAHuB,EAIvB,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,MAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,MAAI,CAACZ,MAA1C;AAAA,eAAR,CAJuB,CAA3B;AAOD,aAdH,EAcK,UAACc,GAAD,EAAS,CAEX,CAhBH;AAkBD;;;uCAGYyB,I,EAAS;AACpB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;uCACoBA,I,EAAY;AAC/B,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKzC,MAAL,CAAY0C,MAAZ,CAAmB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAAzB,CAAP;AACD;;;sCACQ;AAAA;;AACP,gBAAM3D,MAAM,GAAQ;AAClBuB,gBAAE,EAAG,KAAKvB,MAAL,CAAYT,IAAZ,CAAiBgC,EADJ;AAElB7B,oBAAM,EAAC,GAFW;AAGpBkD,sBAAQ,EAAE,KAAKhD,YAAL,CAAkBiD;AAHR,aAApB;AAKA,iBAAKzD,kBAAL,CAAwB4F,cAAxB,CAAuChF,MAAvC,EAA+CkB,SAA/C,CACE,UAACiB,IAAD,EAAe;AACb,kBAAGA,IAAI,CAACzC,MAAL,IAAe,IAAlB,EAAuB;AACrB,sBAAI,CAACL,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBC,mBAAnC,EAAwD,SAAxD,EAAmE;AAAEC,0BAAQ,EAAE;AAAZ,iBAAnE;;AACA,sBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD;AAEF,aAPH,EAQE,UAACP,GAAD,EAAS;AACP,oBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,wBAAQ,EAAE;AAAZ,eAA5D;;AACA,oBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD,aAXH;AAaD;;;sCACQ;AAAA;;AACP,gBAAMxC,MAAM,GAAQ;AAClBuB,gBAAE,EAAG,KAAKvB,MAAL,CAAYT,IAAZ,CAAiBgC,EADJ;AAElB7B,oBAAM,EAAC,GAFW;AAGpBkD,sBAAQ,EAAE,KAAKhD,YAAL,CAAkBiD;AAHR,aAApB;AAKA,iBAAKzD,kBAAL,CAAwB6F,eAAxB,CAAwCjF,MAAxC,EAAgDkB,SAAhD,CACE,UAACiB,IAAD,EAAe;AACb,kBAAGA,IAAI,CAACzC,MAAL,IAAe,IAAlB,EAAuB;AACrB,uBAAI,CAACL,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBC,mBAAnC,EAAwD,SAAxD,EAAmE;AAAEC,0BAAQ,EAAE;AAAZ,iBAAnE;;AACA,uBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD;AAEF,aAPH,EAQE,UAACP,GAAD,EAAS;AACP,qBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,wBAAQ,EAAE;AAAZ,eAA5D;;AACA,qBAAI,CAAC5D,SAAL,CAAekD,KAAf;AACD,aAXH;AAaD;;;;;;;yBAtQQkC,mB,EAAmB,2H,EAAA,kL,EAAA,wI,EAAA,sI,EAAA,gEAsBiC,wEAtBjC,C,EAsBgD,uJ;AAAA,O;;;cAtBnEA,mB;AAAmB,wC;AAAA;AAAA;;;;;;;;;;;;;;;ACzBhC;;AAA6D;AAAA,qBAAS,IAAAT,gBAAA,EAAT;AAA2B,aAA3B;;AACQ;;AAAK;;AAG1E;;AAAoC;;AAAY;;AAChD;;AACE;;AACE;;AAEE;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAEA;;AACE;;;;AAGF;;AACE;;AAA2C;;AAAW;;AACtD;;AACJ;;AACA;;AACE;;AAAW;;AAAK;;AAChB;;AAEA;;AACE;;;;AAGF;;AACA;;AACE;;AAA2C;;AAAW;;AACtD;;AAA4E;;AAAa;;AAC3F;;AACE;;AAEJ;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAEA;;AACA;;AACF;;AACA;;AACE;;AAAW;;AAAQ;;AACnB;;AACA;;AAA4E;;AAAa;;AACzF;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AACA;;AAAwE;;AAAI;;AAC9E;;AAEA;;AACE;;AAAW;;AAAkB;;AAC7B;;AACA;;AAAgF;;AAAI;;AACtF;;AACF;;AAIA;;AACE;;AACE;;AAAqF;AAAA,qBAAU,IAAAC,YAAA,QAAV;AAA8B,aAA9B;;AAEnF;;AAAmC;;AACvC;;AACF;;AACA;;AACE;;AACA;;AACA;;AAAkE;AAAA,qBAAS,IAAA1B,KAAA,EAAT;AAAgB,aAAhB;;AAAkB;;AAAM;;AAC5F;;AAEF;;AACF;;AACF;;;;;;;;AA/EU;;AAAA;;AAKmF;;AAAA;;AAElC;;AAAA;;AAChB;;AAAA;;AAKnB;;AAAA;;AAI+C;;AAAA;;AAEd;;AAAA;;AACd;;AAAA;;AAQnB;;AAAA;;AASF;;AAAA;;AACA;;AAAA;;AAMA;;AAAA;;AAsBsD;;AAAA;;AAEhE;;AAAA;;AAImE;;AAAA;;AACA;;AAAA;;;;;;;;qBDzD9D;;;;;;wEAEJkC,mB,EAAmB;gBAP/B,uDAO+B;iBAPrB;AACTN,oBAAQ,EAAE,iBADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTC,qBAAS,EAAE,CAAC,8BAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOqB,U;;;;;;;;;;;;oBAsB0B,oD;qBAAO,wE;;;;;;AAVnChB,aAAG,EAAE,CAAF;kBAA9B,uDAA8B;mBAApB,e;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AEvCnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACyBI;;AAKE;;AACF;;;;;;;;AAJG,kGAA2B,QAA3B,EAA2B,YAA3B;;AAGD;;AAAA;;;;;;;;;;;;;;;;ADzBN;;;;;UAUayB,oB;AAcX,sCAAoBC,MAApB,EAA4CC,GAA5C,EAA4EC,eAA5E,EAA6G;AAAA;;AAAzF,eAAAF,MAAA,GAAAA,MAAA;AAAwB,eAAAC,GAAA,GAAAA,GAAA;AAAgC,eAAAC,eAAA,GAAAA,eAAA;AAZ5E,eAAAC,QAAA,GAAW,CACT;AACA;AACA;AACA;AAJS,WAAX;AAUA,eAAAC,SAAA,GAAY,EAAZ;AAIC;;;;4CACiB;AAAA;;AAChB,iBAAKF,eAAL,CAAqBG,gBAArB,CAAsCtE,SAAtC,CAAgD,UAAAuE,eAAe,EAAI;AACjE,qBAAI,CAACC,SAAL,GAAiBD,eAAjB;;AACA,kBAAI,OAAI,CAACC,SAAL,IAAkB,IAAlB,IAA0B,OAAI,CAACA,SAAL,IAAkBC,SAA5C,IAAyD,OAAI,CAACD,SAAL,CAAeE,KAAf,IAAwB,IAAjF,IAAyF,OAAI,CAACF,SAAL,CAAeE,KAAf,IAAwBD,SAArH,EAAgI;AAC9H,uBAAI,CAACD,SAAL,GAAiB7F,IAAI,CAACC,KAAL,CAAWF,YAAY,CAACG,OAAb,CAAqB,iBAArB,CAAX,CAAjB;AACD;;AACD,qBAAI,CAACqF,GAAL,CAASS,aAAT;AACD,aAND;AAQD;;;qCAEU;AAAA;;AACT,iBAAKjG,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAWF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAX,CAApB;AACA,gBAAI+F,QAAQ,GAAG,KAAKlG,YAAL,CAAkBmG,iBAAjC,CAFS,CAGT;;AACAD,oBAAQ,CAACjC,MAAT,CAAgB,UAACmC,CAAD,EAAO;AACrB,kBAAIA,CAAC,CAACzE,EAAF,KAAS,SAAb,EAAwB;AACtB,uBAAI,CAAC0E,UAAL,GAAkBD,CAAlB;;AACA,oBAAI,OAAI,CAACC,UAAL,CAAgBvH,QAAhB,IAA4B,IAA5B,IAAoC,OAAI,CAACuH,UAAL,CAAgBvH,QAAhB,IAA4BiH,SAApE,EAA+E;AAC7E,yBAAI,CAACM,UAAL,CAAgBvH,QAAhB,CAAyBmF,MAAzB,CAAgC,UAACqC,CAAD,EAAO;AACrC,wBAAIA,CAAC,CAAC3E,EAAF,KAAS,aAAb,EAA4B;AAC1B,6BAAI,CAAC4E,eAAL,GAAuBD,CAAvB;AACA,0BAAIE,sBAAsB,GAAG,KAA7B;;AACA,0BAAI,OAAI,CAACD,eAAL,CAAqBzH,QAArB,IAAiC,IAAjC,IAAyC,OAAI,CAACyH,eAAL,CAAqBzH,QAArB,IAAiCiH,SAA9E,EAAyF;AACvF,+BAAI,CAACQ,eAAL,CAAqBzH,QAArB,CAA8BmF,MAA9B,CAAqC,UAACwC,CAAD,EAAO;AAC1C,8BAAIA,CAAC,CAAC9E,EAAF,KAAS,oBAAb,EAAmC;AACjC6E,kDAAsB,GAAG,IAAzB;;AACA,mCAAI,CAACb,SAAL,CAAee,IAAf,CAAoB;AAAEC,mCAAK,EAAE,YAAT;AAAuBC,kCAAI,EAAE;AAA7B,6BAApB;AACD;;AACD,8BAAIH,CAAC,CAAC9E,EAAF,KAAS,iBAAb,EAAgC;AAC9B6E,kDAAsB,GAAG,IAAzB;;AACA,mCAAI,CAACb,SAAL,CAAee,IAAf,CAAoB;AAAEC,mCAAK,EAAE,YAAT;AAAuBC,kCAAI,EAAE;AAA7B,6BAApB;AACD;;AACD,8BAAIH,CAAC,CAAC9E,EAAF,KAAS,UAAb,EAAyB;AACvB6E,kDAAsB,GAAG,IAAzB;;AACA,mCAAI,CAACb,SAAL,CAAee,IAAf,CAAoB;AAAEC,mCAAK,EAAE,UAAT;AAAqBC,kCAAI,EAAE;AAA3B,6BAApB;AACD;;AACD,8BAAIH,CAAC,CAAC9E,EAAF,KAAS,QAAb,EAAuB;AACrB,mCAAI,CAACgE,SAAL,CAAee,IAAf,CAAoB;AAAEC,mCAAK,EAAE,SAAT;AAAoBC,kCAAI,EAAE;AAA1B,6BAApB;AACD;AACF,yBAhBD;AAiBD;;AAED,6BAAI,CAAClB,QAAL,GAAgB,OAAI,CAACC,SAArB;;AACA,0BAAI,CAACa,sBAAL,EAA6B;AAC3B,+BAAI,CAACjB,MAAL,CAAYsB,QAAZ,CAAqB,CAAC,+BAA+B,OAAI,CAAClB,SAAL,CAAe,CAAf,EAAkBiB,IAAlD,CAArB;AACD;AACF;AACF,mBA7BD;AA8BD;AAEF;AACF,aArCD;AAwCD;;;;;;;yBAxEUtB,oB,EAAoB,uH,EAAA,gI,EAAA,2J;AAAA,O;;;cAApBA,oB;AAAoB,yC;AAAA,iB;AAAA,e;AAAA,+pB;AAAA;AAAA;ACfjC;;AACE;;AAGE;;AAGI;;AAEI;;AAEI;;AACkD;;AAElD;;AAMJ;;AACF;;AACJ;;AACJ;;AACF;;AACI;;AAOF;;AACA;;AACF;;;;AAtBsB;;AAAA;;AAcK;;AAAA;;;;;;;qBDbb;;;;;;wEAEDA,oB,EAAoB;gBAPhC,uDAOgC;iBAPtB;AACTd,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAE;AALH,W;AAOsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEfjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;;;;;;;AAeO,UAAMiC,gBAAgB,GAAW,CACtC;AACEnI,YAAI,EAAE,QADR;AACkBE,mBAAW,EAAE,CAAC,4EAAD,CAD/B;AAC4CD,iBAAS,EAAE;AADvD,OADsC,EAItC;AACED,YAAI,EAAE,cADR;AACwBE,mBAAW,EAAE,CAAC,4EAAD,CADrC;AACkDD,iBAAS,EAAE;AAD7D,OAJsC,EAOtC;AACED,YAAI,EAAE,eADR;AACyBE,mBAAW,EAAE,CAAC,4EAAD,CADtC;AACmDD,iBAAS,EAAE;AAD9D,OAPsC,EAUtC;AACED,YAAI,EAAE,eADR;AACyBE,mBAAW,EAAE,CAAC,4EAAD,CADtC;AACmDD,iBAAS,EAAE;AAD9D,OAVsC,EAatC;AACED,YAAI,EAAE,EADR;AACYoI,kBAAU,EAAE,cADxB;AACwCC,iBAAS,EAAE;AADnD,OAbsC,CAAjC;;;;;;;;;;;;;;;;ACdP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACsBwB;;AAA2E;;AAAwB;;AAC3F;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AAAM;;AAAY;;;;;;;;AAC3E;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AACrE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AAJjD;;AACI;;AAEA;;AAKJ;;;;;;AAPW;;AAAA;;AAEU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AACzE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAM;;AACjF;;;;;;;;AACA;;AACI;;AAA6C;AAAA;;AAAA;;AAAA;AAAA;;AAA7C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAa;;AACxF;;;;;;AAFiD;;AAAA;;;;;;AALrD;;AACI;;AAGA;;AAIJ;;;;;;AAPW;;AAAA;;AAGU;;AAAA;;;;;;AAKrB;;AAAoC;;AAAqB;;;;;;AAArB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA/C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAHmD;;AAAA;;;;;;AALvD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAKhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AALjD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAIhC;;AAA0E;;AACzD;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACjF;;AAAY;;;;;;;;AAChB;;AACI;;AAAmD;AAAA;;AAAA;;AAAA;AAAA;;AAAnD;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACpE;;AACJ;;;;;;AAHuD;;AAAA;;;;;;AAL3D;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAIhC;;AAA4E;;AACxE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AAAM;;AAChF;;;;;;;;AACA;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;AAAA;;AAArC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AACtE;;AACJ;;;;;;AAHyC;;AAAA;;;;;;AAL7C;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AACI;;AAAsB;;;;;;AADS;;AAC/B;;AAAA;;;;;;AAGJ;;AACI;;AAA+B;;AAAM;;AACzC;;;;;;;;AACA;;AASQ;;AAAgD;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,SAApB,EAA6B,WAA7B,EAAsC,eAAtC;AAAqD,WAArD;;AAA+E;;AAAsB;;AAAW;;AATxK;;;;;;AAcJ;;;;;;AACA;;;;;;;;UDnGHC,G;;;AAiBb;;;;;UAUaC,sB;AAsBX,wCAAoB1H,kBAApB,EAAmE2H,MAAnE,EACU1H,QADV,EACkC;AAAA;;AAChC;AACA;AAHkB,eAAAD,kBAAA,GAAAA,kBAAA;AAA+C,eAAA2H,MAAA,GAAAA,MAAA;AACzD,eAAA1H,QAAA,GAAAA,QAAA;AArBV,eAAA2H,gBAAA,GAA6B,CAAE,YAAF,EAAe,cAAf,EAA8B,oBAA9B,EAAmD,UAAnD,EAA+D,oBAA/D,EAAoF,QAApF,EAA6F,QAA7F,CAA7B;AACA,eAAAC,IAAA,GAAO,CAAC,CAAC,YAAD,EAAe,cAAf,EAA8B,iBAA9B,EAAgD,UAAhD,EAA2D,UAA3D,EAAsE,QAAtE,CAAD,CAAP;AAWA,eAAAC,WAAA,GAAc,KAAd;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,UAAA,GAAa,KAAb;AACA,eAAAC,YAAA,GAAe,KAAf,CAIkC,CAIhC;AACD;;;;qCAEU;AAET,iBAAK3H,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAYF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAZ,CAApB;AACA,iBAAKyH,OAAL;AACA,iBAAKC,YAAL,GAAoB,IAAIZ,GAAJ,EAApB;AACA,iBAAKa,UAAL,GAAkB,gEAAeC,QAAjC;AACD;;;sCAEWpE,K,EAAc;AACxB,gBAAMI,WAAW,GAAIJ,KAAK,CAACqE,MAAN,CAAkC3I,KAAvD;AACA,iBAAK4I,UAAL,CAAgBhE,MAAhB,GAAyBF,WAAW,CAACmE,IAAZ,GAAmBlE,WAAnB,EAAzB;;AAEA,gBAAI,KAAKiE,UAAL,CAAgBE,SAApB,EAA+B;AAC7B,mBAAKF,UAAL,CAAgBE,SAAhB,CAA0BC,SAA1B;AACD;AACF;;;oCAEM;AAAA;;AAEL,iBAAK5I,kBAAL,CAAwB6I,yBAAxB,CAAkD,aAAlD,EAAiE/G,SAAjE,CACE,UAACiB,IAAD,EAAY;AAEV,kBAAGA,IAAI,IAAI,IAAX,EAAgB;AACd,uBAAI,CAAC+F,QAAL,GAAgB/F,IAAI,CAAC5C,IAArB;;AACA,qBAAI,IAAI4I,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG,OAAI,CAACD,QAAL,CAAcE,MAA/B,EAAsCD,CAAC,EAAvC,EAA0C;AACxC,sBAAG,OAAI,CAACD,QAAL,CAAcC,CAAd,EAAiBzI,MAAjB,IAA2B,GAA9B,EAAkC;AAChC,2BAAI,CAACwI,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,UAAhC;AACD,mBAFD,MAEK;AACH,2BAAI,CAACH,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,QAAhC;AACD;AAGF;;AACD,uBAAI,CAACR,UAAL,GAAkB,IAAI,0EAAJ,CAAuB,OAAI,CAACK,QAA5B,CAAlB;AACA,uBAAI,CAACL,UAAL,CAAgBE,SAAhB,GAA4B,OAAI,CAACA,SAAjC;AACA,uBAAI,CAACF,UAAL,CAAgBS,IAAhB,GAAuB,OAAI,CAACA,IAA5B;AACD,eAdD,MAcK;AACH,uBAAI,CAACjJ,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBuF,oBAAnC,EAAyD,SAAzD,EAAmE;AAACrF,0BAAQ,EAAG;AAAZ,iBAAnE;;AACA;AACD;AACF,aArBH,EAqBI,UAACjB,GAAD,EAAO,CACP;AACD,aAvBH;AAyBD;;;kCAEMV,E,EAAE;AACP,iBAAKiH,gBAAL,GAAwB,KAAKzB,MAAL,CAAY/D,IAAZ,CAAiB,mHAAjB,EAA6C;AACnEyF,0BAAY,EAAE;AADqD,aAA7C,CAAxB;AAKD;;;qCAGUxI,M,EAAOV,I,EAAI;AAAA;;AAEpB,gBAAIS,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA;AAFI,aAAb;AAKA,gBAAMD,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,4FAAjB,EAAwC;AACxD0F,mBAAK,EAAE,OADiD;AAExDnJ,kBAAI,EAAES,MAFkD;AAGxD2I,uBAAS,EAAE,KAH6C;AAIxDC,wBAAU,EAAE,mBAJ4C;AAKxDH,0BAAY,EAAE;AAL0C,aAAxC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACtB,OAAL;AACD,aAJD;AAKD;;;qCACUvH,M,EAAOV,I,EAAKsF,Y,EAAc;AAAA;;AACnC,gBAAI7E,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA,IAFI;AAGXsF,0BAAY,EAACA;AAHF,aAAb;AAMA,gBAAMvF,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,sFAAjB,EAAsC;AACtD0F,mBAAK,EAAE,OAD+C;AAEtDnJ,kBAAI,EAAES,MAFgD;AAGtD4I,wBAAU,EAAE,mBAH0C;AAItDD,uBAAS,EAAE,KAJ2C;AAKtDF,0BAAY,EAAE;AALwC,aAAtC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACtB,OAAL;AACD,aAJD;AAKD;;;2CACgBuB,a,EAAcC,E,EAAE;AAE/BA,cAAE,CAACC,eAAH,GAF+B,CAG/B;AACA;AACE;;AACF,gBAAGF,aAAa,IAAI,aAApB,EAAkC;AAChC,mBAAK7B,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA,mBAAKO,YAAL,CAAkByB,UAAlB,GAA+B,EAA/B;AACD;;AACD,gBAAGH,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK5B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKM,YAAL,CAAkB0B,YAAlB,GAAiC,EAAjC;AACD;;AACD,gBAAGJ,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK3B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKK,YAAL,CAAkB9E,kBAAlB,GAAuC,EAAvC;AACD;;AACD,gBAAGoG,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK1B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKI,YAAL,CAAkB/G,QAAlB,GAA6B,EAA7B;AACD;;AACD,gBAAGqI,aAAa,IAAI,YAApB,EAAiC;AAC/B,mBAAKzB,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACA,mBAAKG,YAAL,CAAkB7G,kBAAlB,GAAuC,EAAvC;AACD;;AAGD,gBAAGmI,aAAa,IAAI,cAApB,EAAmC;AACjC,mBAAKxB,YAAL,GAAoB,CAAC,KAAKA,YAA1B;AACA,mBAAKE,YAAL,CAAkBY,YAAlB,GAAiC,EAAjC;AACD;AACD;;;wCACU;AAGT,iBAAKe,YAAL,GAAoB,EAApB;;AACD,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC3D,kBAAImB,YAAY,GAAG,KAAKzB,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAnB,CAD2D,CAE5D;AACA;;AACA,kBAAI5I,IAAI,GAAG;AAAC,8BAAa+J,YAAY,CAACJ,UAA3B;AAAsC,iCAAgBI,YAAY,CAACH,YAAnE;AAAgF,mCAAkBG,YAAY,CAAC3G,kBAA/G;AACX,2BAAU2G,YAAY,CAAC5I,QADZ;AACqB,sCAAqB4I,YAAY,CAAC1I,kBADvD;AAC0E,0BAAS0I,YAAY,CAACjB;AADhG,eAAX;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AAGA,gBAAMgK,SAAS,GAAG,4CAAWC,aAAX,CAAyB,KAAKJ,YAA9B,CAAlB;AACE,gBAAMK,QAAQ,GAAkB,4CAAWC,QAAX,EAAhC;AAEA,wDAAWC,iBAAX,CAA6BF,QAA7B,EAAuCF,SAAvC,EAAkD,8BAAlD;AACA,4DAAeE,QAAf,EAAyB,yBAAzB;AACH;;;sCAEQ;AAAA;;AAER,gBAAIG,GAAG,GAAG,IAAI,4CAAJ,CAAU,EAAV,CAAV;AAGA,iBAAKR,YAAL,GAAoB,EAApB;;AACA,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC5D,kBAAI/E,OAAO,GAAG,KAAKyE,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAd;AAED,kBAAI5I,IAAI,GAAE,CAAC6D,OAAO,CAAC8F,UAAT,EAAoB9F,OAAO,CAAC+F,YAA5B,EAAyC/F,OAAO,CAACT,kBAAjD,EAAoES,OAAO,CAAC1C,QAA5E,EAAqF0C,OAAO,CAACxC,kBAA7F,EAAgHwC,OAAO,CAACiF,YAAxH,CAAV;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AACD,gBAAIsK,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACA,gBAAIC,QAAQ,GAAG,IAAID,KAAJ,EAAf;AACC,gBAAIE,GAAG,GAAG,2CAAV;AACA,gBAAIC,UAAU,GAAG,4CAAjB;AACDF,oBAAQ,CAACC,GAAT,GAAcC,UAAd;AACA,gBAAIC,WAAW,GAAG,IAAIC,IAAJ,GAAWC,cAAX,CAA2B,OAA3B,CAAlB;AACAP,eAAG,CAACG,GAAJ,GAAUA,GAAV;AACAJ,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AAEET,eAAW,CAACW,SAAZ,CAAsB;AACrBtD,kBAAI,EAAE,KAAKA,IADU;AAErBuD,kBAAI,EAAE,KAAKpB,YAFU;AAGrBqB,mBAAK,EAAE,MAHc;AAIrBC,wBAAU,EAAE;AAAEC,yBAAS,EAAE,SAAb;AAAuBC,yBAAS,EAAC,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV;AAAjC,eAJS;AAKrBC,oBAAM,EAAE;AACNC,2BAAW,EAAE,CADP;AAENC,wBAAQ,EAAE;AAFJ,eALa;AAWrBC,oBAAM,EAAE;AAAEC,mBAAG,EAAE;AAAP,eAXa;AAYrBC,yBAAW,EAAE,qBAAA3L,IAAI,EAAI,CACpB,CAboB;AAcrB4L,yBAAW,EAAC,qBAAA5L,IAAI,EAAE;AAChBqK,mBAAG,CAACwB,QAAJ,CAAavB,GAAb,EAAmB,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACAD,mBAAG,CAACwB,QAAJ,CAAarB,QAAb,EAAuB,GAAvB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,CAAnC;AAEAH,mBAAG,CAACyB,IAAJ,CAAS,gCAAT,EAA2CzB,GAAG,CAAC0B,QAAJ,CAAaC,QAAb,CAAsBC,QAAtB,KAAmC,CAA9E,EAAiF,EAAjF,EAAqF;AAAEC,uBAAK,EAAE;AAAT,iBAArF;AAEA7B,mBAAG,CAACU,YAAJ,CAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACyB,IAAJ,CAAS,iCAAT,EAA2C,EAA3C,EAA8C,GAA9C,EAAkD,IAAlD,EAAuD,EAAvD;AACAzB,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,CAAhB;AACAT,mBAAG,CAACyB,IAAJ,CAAS,UAASnB,WAAlB,EAA+B,EAA/B,EAAmC,EAAnC;AAEAN,mBAAG,CAACyB,IAAJ,CAAS,kBAAiB,OAAI,CAACzL,YAAL,CAAkBiM,MAA5C,EAAoD,GAApD,EAAyD,EAAzD,EAA4D;AAAEJ,uBAAK,EAAE;AAAT,iBAA5D;AACA7B,mBAAG,GAAG,OAAI,CAACkC,YAAL,CAAkBlC,GAAlB,CAAN;AACD;AA/BoB,aAAtB,EAxBO,CA0DR;;AACAA,eAAG,CAACmC,MAAJ,CAAW,kBAAX,EA3DQ,CA6DR;;AACAnC,eAAG,CAACoC,IAAJ,CAAS,wBAAT;AAED;;;uCACYpC,G,EAAG;AACd,gBAAIqC,OAAO,GAAGrC,GAAG,CAACsC,gBAAJ,EAAd;AACA,gBAAM/D,CAAC,GAAGyB,GAAG,CAAC0B,QAAJ,CAAaY,gBAAb,EAAV;AACAtC,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACIV,eAAG,CAACS,WAAJ,CAAgB,EAAhB,EAJU,CAKb;;AAEAT,eAAG,CAACyB,IAAJ,CAAS,UAAWc,MAAM,CAAChE,CAAD,CAAjB,GAAuB,MAAvB,GAAgCgE,MAAM,CAACF,OAAD,CAA/C,EAAyD,MAAI,EAA7D,EAAgE,MAAI,EAApE,EAAuE,IAAvE,EAA4E,IAA5E,EAAiF,OAAjF;AACD,mBAAOrC,GAAP;AAED;;;;;;;yBAhQU9C,sB,EAAsB,mL,EAAA,oI,EAAA,yI;AAAA,O;;;cAAtBA,sB;AAAsB,0C;AAAA;AAAA;4EAUtB,wE,EAAc,I;;4EACd,8D,EAAS,I;;;;;;;;;;;;;;;ACrDtB;;AAGI;;AAAsC;AAAA,qBAAS,IAAAsF,WAAA,EAAT;AAAsB,aAAtB;;AAClC;;AAAU;;AAAiB;;AAC7B;;AAAS;;AACT;;AAAsC;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AACpC;;AAAU;;AAAc;;AAC1B;;AAEN;;AACA;;AACI;;AAEI;;AACI;;AAEI;;AACI;;AASA;;AACJ;;AACA;;AACI;;AASA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AAEA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AAEJ;;AACA;;AACI;;AAGA;;AAYJ;;AAEA;;AACA;;AAIJ;;AAEA;;AACJ;;AACJ;;AA/GJ;;;;AAI4C;;AAAA,mGAAyB,eAAzB,EAAyB,gBAAzB,EAAyB,YAAzB,EAAyB,cAAzB;;AAkGR;;AAAA;;AACa;;AAAA;;AAMtB;;AAAA;;;;;;;qBDhFV;;;;;;wEAEJvF,sB,EAAsB;gBAPlC,uDAOkC;iBAPxB;AACT1C,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOwB,U;;;;;;;;;AAUQsD,mBAAS,EAAE,CAAF;kBAAjD,uDAAiD;mBAAvC,wE,EAAc;AAAC,wBAAQ;AAAT,a;AAAyB,WAAE,C;AAChBO,cAAI,EAAE,CAAF;kBAAvC,uDAAuC;mBAA7B,8D,EAAS;AAAC,wBAAQ;AAAT,a;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AExD5C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACsBwB;;AAA2E;;AAAwB;;AAC3F;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AAAM;;AAAY;;;;;;;;AAC3E;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AACrE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AAJjD;;AACI;;AAEA;;AAKJ;;;;;;AAPW;;AAAA;;AAEU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AACzE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAM;;AACjF;;;;;;;;AACA;;AACI;;AAA6C;AAAA;;AAAA;;AAAA;AAAA;;AAA7C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAa;;AACxF;;;;;;AAFiD;;AAAA;;;;;;AALrD;;AACI;;AAGA;;AAIJ;;;;;;AAPW;;AAAA;;AAGU;;AAAA;;;;;;AAKrB;;AAAoC;;AAAqB;;;;;;AAArB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA/C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAHmD;;AAAA;;;;;;AALvD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAKhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AALjD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAIhC;;AAA0E;;AACzD;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACjF;;AAAY;;;;;;;;AAChB;;AACI;;AAAmD;AAAA;;AAAA;;AAAA;AAAA;;AAAnD;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACpE;;AACJ;;;;;;AAHuD;;AAAA;;;;;;AAL3D;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAIhC;;AAA4E;;AACxE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AAAM;;AAChF;;;;;;;;AACA;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;AAAA;;AAArC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AACtE;;AACJ;;;;;;AAHyC;;AAAA;;;;;;AAL7C;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AACI;;AAAsB;;;;;;AADS;;AAC/B;;AAAA;;;;;;AAGJ;;AACI;;AAA+B;;AAAM;;AACzC;;;;;;;;AACA;;AAKI;;AAA4C;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,MAApB,EAA0B,WAA1B,EAAmC,YAAnC;AAA+C,WAA/C;;AACjB;;AAAU;;AAAW;;AAChD;;AAA4C;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,MAApB,EAA0B,WAA1B;AAA0B,WAA1B;;AACjB;;AAAI;;AAAW;;AACtC;;AAA+C;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,SAApB,EAA6B,WAA7B,EAAsC,eAAtC;AAAqD,WAArD;;AAA+E;;AAAsB;;AAAW;;AACnK;;AAA2C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACvC;;AAAM;;AAXd;;;;;;AAcJ;;;;;;AACA;;;;;;;;UDnGHzB,G;;;AAiBb;;;;;UAUayF,a;AAsBX,+BAAoBlN,kBAApB,EAAmE2H,MAAnE,EACU1H,QADV,EACkC;AAAA;;AAChC;AACA;AAHkB,eAAAD,kBAAA,GAAAA,kBAAA;AAA+C,eAAA2H,MAAA,GAAAA,MAAA;AACzD,eAAA1H,QAAA,GAAAA,QAAA;AArBV,eAAA2H,gBAAA,GAA6B,CAAE,YAAF,EAAe,cAAf,EAA8B,oBAA9B,EAAmD,UAAnD,EAA+D,oBAA/D,EAAoF,QAApF,EAA6F,QAA7F,CAA7B;AACA,eAAAC,IAAA,GAAO,CAAC,CAAC,YAAD,EAAe,cAAf,EAA8B,iBAA9B,EAAgD,UAAhD,EAA2D,UAA3D,EAAsE,QAAtE,CAAD,CAAP;AAWA,eAAAC,WAAA,GAAc,KAAd;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,UAAA,GAAa,KAAb;AACA,eAAAC,YAAA,GAAe,KAAf,CAIkC,CAIhC;AACD;;;;qCAEU;AAET,iBAAK3H,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAYF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAZ,CAApB;AACA,iBAAKwM,iBAAL;AACA,iBAAK9E,YAAL,GAAoB,IAAIZ,GAAJ,EAApB;AACA,iBAAKa,UAAL,GAAkB,gEAAeC,QAAjC;AACD;;;sCAEWpE,K,EAAc;AACxB,gBAAMI,WAAW,GAAIJ,KAAK,CAACqE,MAAN,CAAkC3I,KAAvD;AACA,iBAAK4I,UAAL,CAAgBhE,MAAhB,GAAyBF,WAAW,CAACmE,IAAZ,GAAmBlE,WAAnB,EAAzB;;AAEA,gBAAI,KAAKiE,UAAL,CAAgBE,SAApB,EAA+B;AAC7B,mBAAKF,UAAL,CAAgBE,SAAhB,CAA0BC,SAA1B;AACD;AACF;;;8CAEgB;AAAA;;AAEf,iBAAK5I,kBAAL,CAAwBoN,yBAAxB,GAAoDtL,SAApD,CACE,UAACiB,IAAD,EAAY;AAEV,kBAAGA,IAAI,IAAI,IAAX,EAAgB;AACd,uBAAI,CAAC+F,QAAL,GAAgB/F,IAAI,CAAC5C,IAArB;;AACA,qBAAI,IAAI4I,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG,OAAI,CAACD,QAAL,CAAcE,MAA/B,EAAsCD,CAAC,EAAvC,EAA0C;AACxC,sBAAG,OAAI,CAACD,QAAL,CAAcC,CAAd,EAAiBzI,MAAjB,IAA2B,GAA9B,EAAkC;AAChC,2BAAI,CAACwI,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,UAAhC;AACD,mBAFD,MAEK;AACH,2BAAI,CAACH,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,UAAhC;AACD;AAGF;;AACD,uBAAI,CAACR,UAAL,GAAkB,IAAI,0EAAJ,CAAuB,OAAI,CAACK,QAA5B,CAAlB;AACA,uBAAI,CAACL,UAAL,CAAgBE,SAAhB,GAA4B,OAAI,CAACA,SAAjC;AACA,uBAAI,CAACF,UAAL,CAAgBS,IAAhB,GAAuB,OAAI,CAACA,IAA5B;AACD,eAdD,MAcK;AACH,uBAAI,CAACjJ,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBuF,oBAAnC,EAAyD,SAAzD,EAAmE;AAACrF,0BAAQ,EAAG;AAAZ,iBAAnE;;AACA;AACD;AACF,aArBH,EAqBI,UAACjB,GAAD,EAAO,CACP;AACD,aAvBH;AAyBD;;;kCAEMV,E,EAAE;AAAA;;AACP,iBAAKiH,gBAAL,GAAwB,KAAKzB,MAAL,CAAY/D,IAAZ,CAAiB,mHAAjB,EAA6C;AACnEyF,0BAAY,EAAE;AADqD,aAA7C,CAAxB;AAGF,iBAAKD,gBAAL,CAAsBK,WAAtB,GAAoC3H,SAApC,CAA8C,UAAA4H,MAAM,EAAI;AACtD,kBAAKA,MAAL,EACA;AACE,uBAAI,CAAC1J,kBAAL,CAAwBqN,aAAxB,CAAsClL,EAAtC,EAAyC,OAAI,CAAC3B,YAAL,CAAkBiD,MAA3D,EAAmE3B,SAAnE,CACE,UAAC3B,IAAD,EAAY;AAEV,yBAAI,CAACgN,iBAAL;;AACA,yBAAI,CAAClN,QAAL,CAAc2D,IAAd,CAAmB,kFAAgB0J,aAAnC,EAAiD,SAAjD,EAA2D;AAACxJ,4BAAQ,EAAC;AAAV,mBAA3D;AACD,iBALH,EAKI,UAACjB,GAAD,EAAO,CAER,CAPH;AASD;;AACD,qBAAI,CAACuG,gBAAL,GAAwB,IAAxB;AACH,aAdC;AAgBC;;;yCAEcmE,O,EAAO,CAErB;;;qCACU1M,M,EAAOV,I,EAAI;AAAA;;AAEpB,gBAAIS,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA;AAFI,aAAb;AAMA,gBAAMD,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,4FAAjB,EAAwC;AACxD0F,mBAAK,EAAE,OADiD;AAExDnJ,kBAAI,EAAES,MAFkD;AAGxD2I,uBAAS,EAAE,KAH6C;AAIxDC,wBAAU,EAAE,mBAJ4C;AAKxDH,0BAAY,EAAE;AAL0C,aAAxC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACyD,iBAAL;AACD,aAJD;AAKD;;;qCACUtM,M,EAAOV,I,EAAKsF,Y,EAAc;AAAA;;AACnC,gBAAI7E,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA,IAFI;AAGXsF,0BAAY,EAACA;AAHF,aAAb;AAMA,gBAAMvF,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,sFAAjB,EAAsC;AACtD0F,mBAAK,EAAE,OAD+C;AAEtDnJ,kBAAI,EAAES,MAFgD;AAGtD4I,wBAAU,EAAE,mBAH0C;AAItDD,uBAAS,EAAE,KAJ2C;AAKtDF,0BAAY,EAAE;AALwC,aAAtC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACyD,iBAAL;AACD,aAJD;AAKD;;;2CACgBxD,a,EAAcC,E,EAAE;AAE/BA,cAAE,CAACC,eAAH,GAF+B,CAG/B;AACA;AACE;;AACF,gBAAGF,aAAa,IAAI,aAApB,EAAkC;AAChC,mBAAK7B,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA,mBAAKO,YAAL,CAAkByB,UAAlB,GAA+B,EAA/B;AACD;;AACD,gBAAGH,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK5B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKM,YAAL,CAAkB0B,YAAlB,GAAiC,EAAjC;AACD;;AACD,gBAAGJ,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK3B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKK,YAAL,CAAkB9E,kBAAlB,GAAuC,EAAvC;AACD;;AACD,gBAAGoG,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK1B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKI,YAAL,CAAkB/G,QAAlB,GAA6B,EAA7B;AACD;;AACD,gBAAGqI,aAAa,IAAI,YAApB,EAAiC;AAC/B,mBAAKzB,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACA,mBAAKG,YAAL,CAAkB7G,kBAAlB,GAAuC,EAAvC;AACD;;AAGD,gBAAGmI,aAAa,IAAI,cAApB,EAAmC;AACjC,mBAAKxB,YAAL,GAAoB,CAAC,KAAKA,YAA1B;AACA,mBAAKE,YAAL,CAAkBY,YAAlB,GAAiC,EAAjC;AACD;AACD;;;wCACU;AAGT,iBAAKe,YAAL,GAAoB,EAApB;;AACD,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC3D,kBAAImB,YAAY,GAAG,KAAKzB,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAnB,CAD2D,CAE5D;AACA;;AACA,kBAAI5I,IAAI,GAAG;AAAC,8BAAa+J,YAAY,CAACJ,UAA3B;AAAsC,iCAAgBI,YAAY,CAACH,YAAnE;AAAgF,mCAAkBG,YAAY,CAAC3G,kBAA/G;AACX,2BAAU2G,YAAY,CAAC5I,QADZ;AACqB,sCAAqB4I,YAAY,CAAC1I,kBADvD;AAC0E,0BAAS0I,YAAY,CAACjB;AADhG,eAAX;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AAGA,gBAAMgK,SAAS,GAAG,4CAAWC,aAAX,CAAyB,KAAKJ,YAA9B,CAAlB;AACE,gBAAMK,QAAQ,GAAkB,4CAAWC,QAAX,EAAhC;AAEA,wDAAWC,iBAAX,CAA6BF,QAA7B,EAAuCF,SAAvC,EAAkD,sBAAlD;AACA,4DAAeE,QAAf,EAAyB,sBAAzB;AACH;;;sCAEQ;AAAA;;AAER,gBAAIG,GAAG,GAAG,IAAI,4CAAJ,CAAU,EAAV,CAAV;AAGA,iBAAKR,YAAL,GAAoB,EAApB;;AACA,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC5D,kBAAI/E,OAAO,GAAG,KAAKyE,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAd;AAED,kBAAI5I,IAAI,GAAE,CAAC6D,OAAO,CAAC8F,UAAT,EAAoB9F,OAAO,CAAC+F,YAA5B,EAAyC/F,OAAO,CAACT,kBAAjD,EAAoES,OAAO,CAAC1C,QAA5E,EAAqF0C,OAAO,CAACxC,kBAA7F,EAAgHwC,OAAO,CAACiF,YAAxH,CAAV;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AACD,gBAAIsK,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACA,gBAAIC,QAAQ,GAAG,IAAID,KAAJ,EAAf;AACC,gBAAIE,GAAG,GAAG,2CAAV;AACA,gBAAIC,UAAU,GAAG,4CAAjB;AACDF,oBAAQ,CAACC,GAAT,GAAcC,UAAd;AACA,gBAAIC,WAAW,GAAG,IAAIC,IAAJ,GAAWC,cAAX,CAA2B,OAA3B,CAAlB;AACAP,eAAG,CAACG,GAAJ,GAAUA,GAAV;AACAJ,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AAEET,eAAW,CAACW,SAAZ,CAAsB;AACrBtD,kBAAI,EAAE,KAAKA,IADU;AAErBuD,kBAAI,EAAE,KAAKpB,YAFU;AAGrBqB,mBAAK,EAAE,MAHc;AAIrBC,wBAAU,EAAE;AAAEC,yBAAS,EAAE,SAAb;AAAuBC,yBAAS,EAAC,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV;AAAjC,eAJS;AAKrBC,oBAAM,EAAE;AACNC,2BAAW,EAAE,CADP;AAENC,wBAAQ,EAAE;AAFJ,eALa;AAWrBC,oBAAM,EAAE;AAAEC,mBAAG,EAAE;AAAP,eAXa;AAYrBC,yBAAW,EAAE,qBAAA3L,IAAI,EAAI,CACpB,CAboB;AAcrB4L,yBAAW,EAAC,qBAAA5L,IAAI,EAAE;AAChBqK,mBAAG,CAACwB,QAAJ,CAAavB,GAAb,EAAmB,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACAD,mBAAG,CAACwB,QAAJ,CAAarB,QAAb,EAAuB,GAAvB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,CAAnC;AAEAH,mBAAG,CAACyB,IAAJ,CAAS,6BAAT,EAAwCzB,GAAG,CAAC0B,QAAJ,CAAaC,QAAb,CAAsBC,QAAtB,KAAmC,CAA3E,EAA8E,EAA9E,EAAkF;AAAEC,uBAAK,EAAE;AAAT,iBAAlF;AAEA7B,mBAAG,CAACU,YAAJ,CAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACyB,IAAJ,CAAS,iCAAT,EAA2C,EAA3C,EAA8C,GAA9C,EAAkD,IAAlD,EAAuD,EAAvD;AACAzB,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,CAAhB;AACAT,mBAAG,CAACyB,IAAJ,CAAS,UAASnB,WAAlB,EAA+B,EAA/B,EAAmC,EAAnC;AAEAN,mBAAG,CAACyB,IAAJ,CAAS,kBAAiB,OAAI,CAACzL,YAAL,CAAkBiM,MAA5C,EAAoD,GAApD,EAAyD,EAAzD,EAA4D;AAAEJ,uBAAK,EAAE;AAAT,iBAA5D;AACA7B,mBAAG,GAAG,OAAI,CAACkC,YAAL,CAAkBlC,GAAlB,CAAN;AACD;AA/BoB,aAAtB,EAxBO,CA0DR;;AACAA,eAAG,CAACmC,MAAJ,CAAW,kBAAX,EA3DQ,CA6DR;;AACAnC,eAAG,CAACoC,IAAJ,CAAS,qBAAT;AAED;;;uCACYpC,G,EAAG;AACd,gBAAIqC,OAAO,GAAGrC,GAAG,CAACsC,gBAAJ,EAAd;AACA,gBAAM/D,CAAC,GAAGyB,GAAG,CAAC0B,QAAJ,CAAaY,gBAAb,EAAV;AACAtC,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACIV,eAAG,CAACS,WAAJ,CAAgB,EAAhB,EAJU,CAKb;;AAEAT,eAAG,CAACyB,IAAJ,CAAS,UAAWc,MAAM,CAAChE,CAAD,CAAjB,GAAuB,MAAvB,GAAgCgE,MAAM,CAACF,OAAD,CAA/C,EAAyD,MAAI,EAA7D,EAAgE,MAAI,EAApE,EAAuE,IAAvE,EAA4E,IAA5E,EAAiF,OAAjF;AACD,mBAAOrC,GAAP;AAED;;;;;;;yBAjRU0C,a,EAAa,mL,EAAA,oI,EAAA,yI;AAAA,O;;;cAAbA,a;AAAa,iC;AAAA;AAAA;4EAUb,wE,EAAc,I;;4EACd,8D,EAAS,I;;;;;;;;;;;;;;;ACrDtB;;AAGI;;AAAsC;AAAA,qBAAS,IAAAF,WAAA,EAAT;AAAsB,aAAtB;;AAClC;;AAAU;;AAAiB;;AAC7B;;AAAS;;AACT;;AAAsC;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AACpC;;AAAU;;AAAc;;AAC1B;;AAEN;;AACA;;AACI;;AAEI;;AACI;;AAEI;;AACI;;AASA;;AACJ;;AACA;;AACI;;AASA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AAEA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AAEJ;;AACA;;AACI;;AAGA;;AAYJ;;AAEA;;AACA;;AAIJ;;AAEA;;AACJ;;AACJ;;AA/GJ;;;;AAI4C;;AAAA,mGAAyB,eAAzB,EAAyB,gBAAzB,EAAyB,YAAzB,EAAyB,cAAzB;;AAkGR;;AAAA;;AACa;;AAAA;;AAMtB;;AAAA;;;;;;;qBDhFV;;;;;;wEAEJC,a,EAAa;gBAPzB,uDAOyB;iBAPf;AACTlI,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,uBAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOe,U;;;;;;;;;AAUiBsD,mBAAS,EAAE,CAAF;kBAAjD,uDAAiD;mBAAvC,wE,EAAc;AAAC,wBAAQ;AAAT,a;AAAyB,WAAE,C;AAChBO,cAAI,EAAE,CAAF;kBAAvC,uDAAuC;mBAA7B,8D,EAAS;AAAC,wBAAQ;AAAT,a;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AExD5C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACsBwB;;AAA2E;;AAAwB;;AAC3F;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AAAM;;AAAY;;;;;;;;AAC3E;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,aAA1B,EAAuC,MAAvC;AAAuC,WAAvC;;AAAiD;;AACrE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AAJjD;;AACI;;AAEA;;AAKJ;;;;;;AAPW;;AAAA;;AAEU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAmB;;;;;;AAAnB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AACzE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAM;;AACjF;;;;;;;;AACA;;AACI;;AAA6C;AAAA;;AAAA;;AAAA;AAAA;;AAA7C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AAAa;;AACxF;;;;;;AAFiD;;AAAA;;;;;;AALrD;;AACI;;AAGA;;AAIJ;;;;;;AAPW;;AAAA;;AAGU;;AAAA;;;;;;AAKrB;;AAAoC;;AAAqB;;;;;;AAArB;;AAAA;;;;;;;;AAIhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAA+C;AAAA;;AAAA;;AAAA;AAAA;;AAA/C;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAHmD;;AAAA;;;;;;AALvD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAKhC;;AAA6E;;AAC5D;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACpF;;AAAY;;;;;;;;AAChB;;AACI;;AAAyC;AAAA;;AAAA;;AAAA;AAAA;;AAAzC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,eAA1B,EAAyC,MAAzC;AAAyC,WAAzC;;AAAmD;;AACvE;;AACJ;;;;;;AAH6C;;AAAA;;;;;;AALjD;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAAiB;;;;;;AAAjB;;AAAA;;;;;;;;AAIhC;;AAA0E;;AACzD;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACjF;;AAAY;;;;;;;;AAChB;;AACI;;AAAmD;AAAA;;AAAA;;AAAA;AAAA;;AAAnD;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,YAA1B,EAAsC,MAAtC;AAAsC,WAAtC;;AAAgD;;AACpE;;AACJ;;;;;;AAHuD;;AAAA;;;;;;AAL3D;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AAAoC;;AAA2B;;;;;;AAA3B;;AAAA;;;;;;;;AAIhC;;AAA4E;;AACxE;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AAAM;;AAChF;;;;;;;;AACA;;AACI;;AAAqC;AAAA;;AAAA;;AAAA;AAAA;;AAArC;;AACA;;AAAoB;AAAA;;AAAA;;AAAA,4CAA0B,cAA1B,EAAwC,MAAxC;AAAwC,WAAxC;;AAAkD;;AACtE;;AACJ;;;;;;AAHyC;;AAAA;;;;;;AAL7C;;AACI;;AAGA;;AAKJ;;;;;;AARW;;AAAA;;AAGU;;AAAA;;;;;;AAMrB;;AACI;;AAAsB;;;;;;AADS;;AAC/B;;AAAA;;;;;;AAGJ;;AACI;;AAA+B;;AAAM;;AACzC;;;;;;;;AACA;;AASQ;;AAAgD;AAAA;;AAAA;;AAAA;;AAAA,sCAAoB,SAApB,EAA6B,WAA7B,EAAsC,eAAtC;AAAqD,WAArD;;AAA+E;;AAAsB;;AAAW;;AATxK;;;;;;AAcJ;;;;;;AACA;;;;;;;;UDnGHzB,G;;;AAiBb;;;;;UAUa+F,sB;AAsBX,wCAAoBxN,kBAApB,EAAmE2H,MAAnE,EACU1H,QADV,EACkC;AAAA;;AAChC;AACA;AAHkB,eAAAD,kBAAA,GAAAA,kBAAA;AAA+C,eAAA2H,MAAA,GAAAA,MAAA;AACzD,eAAA1H,QAAA,GAAAA,QAAA;AArBV,eAAA2H,gBAAA,GAA6B,CAAE,YAAF,EAAe,cAAf,EAA8B,oBAA9B,EAAmD,UAAnD,EAA+D,oBAA/D,EAAoF,QAApF,EAA6F,QAA7F,CAA7B;AACA,eAAAC,IAAA,GAAO,CAAC,CAAC,YAAD,EAAe,cAAf,EAA8B,iBAA9B,EAAgD,UAAhD,EAA2D,UAA3D,EAAsE,QAAtE,CAAD,CAAP;AAWA,eAAAC,WAAA,GAAc,KAAd;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,aAAA,GAAgB,KAAhB;AACA,eAAAC,UAAA,GAAa,KAAb;AACA,eAAAC,YAAA,GAAe,KAAf,CAIkC,CAIhC;AACD;;;;qCAEU;AAET,iBAAK3H,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAYF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAZ,CAApB;AACA,iBAAKyH,OAAL;AACA,iBAAKC,YAAL,GAAoB,IAAIZ,GAAJ,EAApB;AACA,iBAAKa,UAAL,GAAkB,gEAAeC,QAAjC;AACD;;;sCAEWpE,K,EAAc;AACxB,gBAAMI,WAAW,GAAIJ,KAAK,CAACqE,MAAN,CAAkC3I,KAAvD;AACA,iBAAK4I,UAAL,CAAgBhE,MAAhB,GAAyBF,WAAW,CAACmE,IAAZ,GAAmBlE,WAAnB,EAAzB;;AAEA,gBAAI,KAAKiE,UAAL,CAAgBE,SAApB,EAA+B;AAC7B,mBAAKF,UAAL,CAAgBE,SAAhB,CAA0BC,SAA1B;AACD;AACF;;;oCAEM;AAAA;;AAEL,iBAAK5I,kBAAL,CAAwB6I,yBAAxB,CAAkD,cAAlD,EAAkE/G,SAAlE,CACE,UAACiB,IAAD,EAAY;AAEV,kBAAGA,IAAI,IAAI,IAAX,EAAgB;AACd,uBAAI,CAAC+F,QAAL,GAAgB/F,IAAI,CAAC5C,IAArB;;AACA,qBAAI,IAAI4I,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG,OAAI,CAACD,QAAL,CAAcE,MAA/B,EAAsCD,CAAC,EAAvC,EAA0C;AACxC,sBAAG,OAAI,CAACD,QAAL,CAAcC,CAAd,EAAiBzI,MAAjB,IAA2B,GAA9B,EAAkC;AAChC,2BAAI,CAACwI,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,UAAhC;AACD,mBAFD,MAEK;AACH,2BAAI,CAACH,QAAL,CAAcC,CAAd,EAAiBE,YAAjB,GAAgC,QAAhC;AACD;AAGF;;AACD,uBAAI,CAACR,UAAL,GAAkB,IAAI,0EAAJ,CAAuB,OAAI,CAACK,QAA5B,CAAlB;AACA,uBAAI,CAACL,UAAL,CAAgBE,SAAhB,GAA4B,OAAI,CAACA,SAAjC;AACA,uBAAI,CAACF,UAAL,CAAgBS,IAAhB,GAAuB,OAAI,CAACA,IAA5B;AACD,eAdD,MAcK;AACH,uBAAI,CAACjJ,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBuF,oBAAnC,EAAyD,SAAzD,EAAmE;AAACrF,0BAAQ,EAAG;AAAZ,iBAAnE;;AACA;AACD;AACF,aArBH,EAqBI,UAACjB,GAAD,EAAO,CACP;AACD,aAvBH;AAyBD;;;kCAEMV,E,EAAE;AACP,iBAAKiH,gBAAL,GAAwB,KAAKzB,MAAL,CAAY/D,IAAZ,CAAiB,mHAAjB,EAA6C;AACnEyF,0BAAY,EAAE;AADqD,aAA7C,CAAxB;AAKD;;;qCAGUxI,M,EAAOV,I,EAAI;AAAA;;AAEpB,gBAAIS,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA;AAFI,aAAb;AAKA,gBAAMD,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,4FAAjB,EAAwC;AACxD0F,mBAAK,EAAE,OADiD;AAExDnJ,kBAAI,EAAES,MAFkD;AAGxD2I,uBAAS,EAAE,KAH6C;AAIxDC,wBAAU,EAAE,mBAJ4C;AAKxDH,0BAAY,EAAE;AAL0C,aAAxC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACtB,OAAL;AACD,aAJD;AAKD;;;qCACUvH,M,EAAOV,I,EAAKsF,Y,EAAc;AAAA;;AACnC,gBAAI7E,MAAM,GAAG;AACXC,oBAAM,EAAGA,MADE;AAEXV,kBAAI,EAAGA,IAFI;AAGXsF,0BAAY,EAACA;AAHF,aAAb;AAMA,gBAAMvF,SAAS,GAAG,KAAKyH,MAAL,CAAY/D,IAAZ,CAAiB,sFAAjB,EAAsC;AACtD0F,mBAAK,EAAE,OAD+C;AAEtDnJ,kBAAI,EAAES,MAFgD;AAGtD4I,wBAAU,EAAE,mBAH0C;AAItDD,uBAAS,EAAE,KAJ2C;AAKtDF,0BAAY,EAAE;AALwC,aAAtC,CAAlB;AAQAnJ,qBAAS,CAACuJ,WAAV,GAAwB3H,SAAxB,CAAkC,UAAA4H,MAAM,EAAI;AAE1C;AACA,qBAAI,CAACtB,OAAL;AACD,aAJD;AAKD;;;2CACgBuB,a,EAAcC,E,EAAE;AAE/BA,cAAE,CAACC,eAAH,GAF+B,CAG/B;AACA;AACE;;AACF,gBAAGF,aAAa,IAAI,aAApB,EAAkC;AAChC,mBAAK7B,WAAL,GAAmB,CAAC,KAAKA,WAAzB;AACA,mBAAKO,YAAL,CAAkByB,UAAlB,GAA+B,EAA/B;AACD;;AACD,gBAAGH,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK5B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKM,YAAL,CAAkB0B,YAAlB,GAAiC,EAAjC;AACD;;AACD,gBAAGJ,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK3B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKK,YAAL,CAAkB9E,kBAAlB,GAAuC,EAAvC;AACD;;AACD,gBAAGoG,aAAa,IAAI,eAApB,EAAoC;AAClC,mBAAK1B,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,mBAAKI,YAAL,CAAkB/G,QAAlB,GAA6B,EAA7B;AACD;;AACD,gBAAGqI,aAAa,IAAI,YAApB,EAAiC;AAC/B,mBAAKzB,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACA,mBAAKG,YAAL,CAAkB7G,kBAAlB,GAAuC,EAAvC;AACD;;AAGD,gBAAGmI,aAAa,IAAI,cAApB,EAAmC;AACjC,mBAAKxB,YAAL,GAAoB,CAAC,KAAKA,YAA1B;AACA,mBAAKE,YAAL,CAAkBY,YAAlB,GAAiC,EAAjC;AACD;AACD;;;wCACU;AAGT,iBAAKe,YAAL,GAAoB,EAApB;;AACD,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC3D,kBAAImB,YAAY,GAAG,KAAKzB,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAnB,CAD2D,CAE5D;AACA;;AACA,kBAAI5I,IAAI,GAAG;AAAC,8BAAa+J,YAAY,CAACJ,UAA3B;AAAsC,iCAAgBI,YAAY,CAACH,YAAnE;AAAgF,mCAAkBG,YAAY,CAAC3G,kBAA/G;AACX,2BAAU2G,YAAY,CAAC5I,QADZ;AACqB,sCAAqB4I,YAAY,CAAC1I,kBADvD;AAC0E,0BAAS0I,YAAY,CAACjB;AADhG,eAAX;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AAGA,gBAAMgK,SAAS,GAAG,4CAAWC,aAAX,CAAyB,KAAKJ,YAA9B,CAAlB;AACE,gBAAMK,QAAQ,GAAkB,4CAAWC,QAAX,EAAhC;AAEA,wDAAWC,iBAAX,CAA6BF,QAA7B,EAAuCF,SAAvC,EAAkD,yBAAlD;AACA,4DAAeE,QAAf,EAAyB,wBAAzB;AACH;;;sCAEQ;AAAA;;AAER,gBAAIG,GAAG,GAAG,IAAI,4CAAJ,CAAU,EAAV,CAAV;AAGA,iBAAKR,YAAL,GAAoB,EAApB;;AACA,iBAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKN,UAAL,CAAgBwB,YAAhB,CAA6BjB,MAAjD,EAAyDD,CAAC,EAA1D,EAA8D;AAC5D,kBAAI/E,OAAO,GAAG,KAAKyE,UAAL,CAAgBwB,YAAhB,CAA6BlB,CAA7B,CAAd;AAED,kBAAI5I,IAAI,GAAE,CAAC6D,OAAO,CAAC8F,UAAT,EAAoB9F,OAAO,CAAC+F,YAA5B,EAAyC/F,OAAO,CAACT,kBAAjD,EAAoES,OAAO,CAAC1C,QAA5E,EAAqF0C,OAAO,CAACxC,kBAA7F,EAAgHwC,OAAO,CAACiF,YAAxH,CAAV;AAEA,mBAAKe,YAAL,CAAkB9C,IAAlB,CAAuB/G,IAAvB;AACD;;AACD,gBAAIsK,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACA,gBAAIC,QAAQ,GAAG,IAAID,KAAJ,EAAf;AACC,gBAAIE,GAAG,GAAG,2CAAV;AACA,gBAAIC,UAAU,GAAG,4CAAjB;AACDF,oBAAQ,CAACC,GAAT,GAAcC,UAAd;AACA,gBAAIC,WAAW,GAAG,IAAIC,IAAJ,GAAWC,cAAX,CAA2B,OAA3B,CAAlB;AACAP,eAAG,CAACG,GAAJ,GAAUA,GAAV;AACAJ,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,eAAG,CAACS,WAAJ,CAAgB,EAAhB;AAEET,eAAW,CAACW,SAAZ,CAAsB;AACrBtD,kBAAI,EAAE,KAAKA,IADU;AAErBuD,kBAAI,EAAE,KAAKpB,YAFU;AAGrBqB,mBAAK,EAAE,MAHc;AAIrBC,wBAAU,EAAE;AAAEC,yBAAS,EAAE,SAAb;AAAuBC,yBAAS,EAAC,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV;AAAjC,eAJS;AAKrBC,oBAAM,EAAE;AACNC,2BAAW,EAAE,CADP;AAENC,wBAAQ,EAAE;AAFJ,eALa;AAWrBC,oBAAM,EAAE;AAAEC,mBAAG,EAAE;AAAP,eAXa;AAYrBC,yBAAW,EAAE,qBAAA3L,IAAI,EAAI,CACpB,CAboB;AAcrB4L,yBAAW,EAAC,qBAAA5L,IAAI,EAAE;AAChBqK,mBAAG,CAACwB,QAAJ,CAAavB,GAAb,EAAmB,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACAD,mBAAG,CAACwB,QAAJ,CAAarB,QAAb,EAAuB,GAAvB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,CAAnC;AAEAH,mBAAG,CAACyB,IAAJ,CAAS,gCAAT,EAA2CzB,GAAG,CAAC0B,QAAJ,CAAaC,QAAb,CAAsBC,QAAtB,KAAmC,CAA9E,EAAiF,EAAjF,EAAqF;AAAEC,uBAAK,EAAE;AAAT,iBAArF;AAEA7B,mBAAG,CAACU,YAAJ,CAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,EAAhB;AACAT,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACyB,IAAJ,CAAS,iCAAT,EAA2C,EAA3C,EAA8C,GAA9C,EAAkD,IAAlD,EAAuD,EAAvD;AACAzB,mBAAG,CAAC8B,SAAJ,CAAe9B,GAAG,CAAC+B,MAAJ,CAAW;AAACC,yBAAO,EAAE;AAAV,iBAAX,CAAf;AACAhC,mBAAG,CAACU,YAAJ,CAAiB,GAAjB;AACAV,mBAAG,CAACS,WAAJ,CAAgB,CAAhB;AACAT,mBAAG,CAACyB,IAAJ,CAAS,UAASnB,WAAlB,EAA+B,EAA/B,EAAmC,EAAnC;AAEAN,mBAAG,CAACyB,IAAJ,CAAS,kBAAiB,OAAI,CAACzL,YAAL,CAAkBiM,MAA5C,EAAoD,GAApD,EAAyD,EAAzD,EAA4D;AAAEJ,uBAAK,EAAE;AAAT,iBAA5D;AACA7B,mBAAG,GAAG,OAAI,CAACkC,YAAL,CAAkBlC,GAAlB,CAAN;AACD;AA/BoB,aAAtB,EAxBO,CA0DR;;AACAA,eAAG,CAACmC,MAAJ,CAAW,kBAAX,EA3DQ,CA6DR;;AACAnC,eAAG,CAACoC,IAAJ,CAAS,uBAAT;AAED;;;uCACYpC,G,EAAG;AACd,gBAAIqC,OAAO,GAAGrC,GAAG,CAACsC,gBAAJ,EAAd;AACA,gBAAM/D,CAAC,GAAGyB,GAAG,CAAC0B,QAAJ,CAAaY,gBAAb,EAAV;AACAtC,eAAG,CAACU,YAAJ,CAAiB,GAAjB;AACIV,eAAG,CAACS,WAAJ,CAAgB,EAAhB,EAJU,CAKb;;AAEAT,eAAG,CAACyB,IAAJ,CAAS,UAAWc,MAAM,CAAChE,CAAD,CAAjB,GAAuB,MAAvB,GAAgCgE,MAAM,CAACF,OAAD,CAA/C,EAAyD,MAAI,EAA7D,EAAgE,MAAI,EAApE,EAAuE,IAAvE,EAA4E,IAA5E,EAAiF,OAAjF;AACD,mBAAOrC,GAAP;AAED;;;;;;;yBAhQUgD,sB,EAAsB,mL,EAAA,oI,EAAA,yI;AAAA,O;;;cAAtBA,sB;AAAsB,0C;AAAA;AAAA;4EAUtB,wE,EAAc,I;;4EACd,8D,EAAS,I;;;;;;;;;;;;;;;ACrDtB;;AAGI;;AAAsC;AAAA,qBAAS,IAAAR,WAAA,EAAT;AAAsB,aAAtB;;AAClC;;AAAU;;AAAiB;;AAC7B;;AAAS;;AACT;;AAAsC;AAAA,qBAAS,IAAAC,SAAA,EAAT;AAAoB,aAApB;;AACpC;;AAAU;;AAAc;;AAC1B;;AAEN;;AACA;;AACI;;AAEI;;AACI;;AAEI;;AACI;;AASA;;AACJ;;AACA;;AACI;;AASA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AAEA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AACJ;;AACA;;AACI;;AAUA;;AAEJ;;AACA;;AACI;;AAGA;;AAYJ;;AAEA;;AACA;;AAIJ;;AAEA;;AACJ;;AACJ;;AA/GJ;;;;AAI4C;;AAAA,mGAAyB,eAAzB,EAAyB,gBAAzB,EAAyB,YAAzB,EAAyB,cAAzB;;AAkGR;;AAAA;;AACa;;AAAA;;AAMtB;;AAAA;;;;;;;qBDhFV;;;;;;wEAEJO,sB,EAAsB;gBAPlC,uDAOkC;iBAPxB;AACTxI,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOwB,U;;;;;;;;;AAUQsD,mBAAS,EAAE,CAAF;kBAAjD,uDAAiD;mBAAvC,wE,EAAc;AAAC,wBAAQ;AAAT,a;AAAyB,WAAE,C;AAChBO,cAAI,EAAE,CAAF;kBAAvC,uDAAuC;mBAA7B,8D,EAAS;AAAC,wBAAQ;AAAT,a;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AEzD5C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAWA,UAAMuE,UAAU,GAAE,CAAC,yFAAD,EAAuB,wEAAvB,EAAwC,6FAAxC,EAA+D,6FAA/D,EAAsF,kEAAtF,CAAlB;AACA,UAAMC,kBAAkB,GAAE,CAAC,4FAAD,EAAuB,sFAAvB,CAA1B;;UAQaC,a;;;;;cAAAA;;;;2BAAAA,a;AAAa,S;AAAA,kBALd,CAAC,qEAAD,EAAe,4EAAf,EAAoC,oEAApC,CAKc;;;;4HAAbA,a,EAAa;AAAA,yBATP,yFASO,EATe,wEASf,EATgC,6FAShC,EATuD,6FASvD,EAT8E,kEAS9E,EARC,4FAQD,EARuB,sFAQvB;AAR0C,oBAGvD,qEAHuD,EAGzC,4EAHyC,EAGpB,oEAHoB;AAQ1C,S;AALsC,O;;;;;wEAKnDA,a,EAAa;gBANzB,sDAMyB;iBANhB;AACNlO,mBAAO,EAAC,CAAC,qEAAD,EAAe,4EAAf,EAAoC,oEAApC,CADF;AAENmO,wBAAY,EAAG,CAACH,UAAD,EAAYC,kBAAZ,CAFT;AAGNG,2BAAe,EAAG,CAACH,kBAAD;AAHZ,W;AAMgB,U;;;;;;;;;;;;;;;;;;ACpB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACUU;;AACE;;AACF;;;;;;AAFkE;;AAChE;;AAAA;;;;;;AAIF;;AAA+C;;AAAqB;;;;;;AAOpE;;AACE;;AACF;;;;;;AAF+D;;AAC7D;;AAAA;;;;;;AAOF;;AAA6C;;AAC/C;;;;;;AAQA;;AAAgE;;AAA4B;;;;;;AAC5F;;AAA+D;;AAAiC;;;;;;AAMhG;;AAA6D;;AAAqB;;;;ADjC1F,eAAS/N,2BAAT,GAAoC;AAClC,eAAO,UAACC,OAAD,EAA6D;AAClE,cAAI,OAAOA,OAAO,CAACC,KAAf,KAAyB,QAA7B,EAAuC;AACrC,mBAAO;AAAE,2CAA6B;AAAEA,qBAAK,EAAED,OAAO,CAACC;AAAjB;AAA/B,aAAP;AACD;;AACD,iBAAO,IAAP;AAAa;AACd,SALD;AAMD;;UAQYiO,e;AAeX,iCAAoB/N,EAApB,EAA4CE,QAA5C,EACU8F,MADV,EACmC/F,kBADnC,EACkFI,cADlF,EACoH;AAAA;;AADhG,eAAAL,EAAA,GAAAA,EAAA;AAAwB,eAAAE,QAAA,GAAAA,QAAA;AAClC,eAAA8F,MAAA,GAAAA,MAAA;AAAyB,eAAA/F,kBAAA,GAAAA,kBAAA;AAA+C,eAAAI,cAAA,GAAAA,cAAA;AAJlF,eAAAE,MAAA,GAAS,IAAT;AAIuH;;;;qCAE5G;AACT,iBAAKC,UAAL;AACD;;;uCAES;AAER,iBAAKC,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAYF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAZ,CAApB;AAEA,iBAAKG,UAAL;AACA,iBAAKC,kBAAL,CAAwB,CAAxB;AACA,iBAAKC,IAAL,GAAY,KAAKjB,EAAL,CAAQkB,KAAR,CAAc;AACxBC,mBAAK,EAAC,CAAC,EAAD,EAAI,CAACvB,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CADkB;AAExBC,yBAAW,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWD,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,UAAnB,CAArB,CAAL,CAFW;AAGxBC,sBAAQ,EAAG,CAAC,EAAD,EAAK,CAAC,0DAAWH,QAAZ,EAAqB,0DAAWE,OAAX,CAAmB,iBAAnB,CAArB,CAAL,CAHa;AAIxBE,yBAAW,EAAE,CAAC,EAAD,CAJW;AAKxBC,gCAAkB,EAAG,CAAC,EAAD,CALG;AAMxBC,qBAAO,EAAC,CAAC,EAAD,EAAI,CAAC9B,2BAA2B,EAA5B,EAA+B,0DAAWwB,QAA1C,CAAJ,CANgB;AAOzBb,oBAAM,EAAG,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B;AAPZ,aAAd,CAAZ;AAWD;;;wCAEU;AAAA;;AACT,iBAAKF,cAAL,CAAoBuB,WAApB,GAAkCG,SAAlC,CACE,UAAC3B,IAAD,EAAY;AACV,qBAAI,CAAC4B,MAAL,GAAc5B,IAAd;AACC,qBAAI,CAACoC,mBAAL,GAA2B,OAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CACxBC,IADwB,CAEvB,iEAAU,EAAV,CAFuB,EAGvB,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAHuB,EAIvB,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,OAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,OAAI,CAACZ,MAA1C;AAAA,eAAR,CAJuB,CAA3B;AAMC,aATN,EASO,UAACc,GAAD,EAAO,CAER,CAXN;AAaD;;;uCAGS;AAAA;;AAER,iBAAKrC,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAYF,YAAY,CAACG,OAAb,CAAqB,aAArB,CAAZ,CAApB;AACA,iBAAKX,kBAAL,CAAwB8C,eAAxB,GAA0ChB,SAA1C,CACE,UAACiB,IAAD,EAAY;AACV,qBAAI,CAACC,QAAL,GAAgBD,IAAhB;AACA,qBAAI,CAACG,sBAAL,GAA8B,OAAI,CAAClC,IAAL,CAAUwB,QAAV,CAAmBf,OAAnB,CAA2BgB,YAA3B,CAC7BC,IAD6B,CAE5B,iEAAU,EAAV,CAF4B,EAG5B,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAH4B,EAI5B,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,OAAI,CAACoL,qBAAL,CAA2BpL,IAA3B,CAAH,GAAsC,OAAI,CAACK,QAAnD;AAAA,eAAR,CAJ4B,CAA9B;AAMD,aATH,EASI,UAACH,GAAD,EAAO,CAER,CAXH;AAcD;;;qCAEO;AAAA;;AACN,gBAAG,KAAK7B,IAAL,CAAUqC,KAAb,EAAmB;AACjB,kBAAIC,UAAU,GAAG,KAAKtC,IAAL,CAAUnB,KAA3B;AAEA,kBAAIe,MAAM,GAAG;AACXwB,wBAAQ,EAAGkB,UAAU,CAACpC,KAAX,CAAiBiB,EADjB;AAEXoB,kCAAkB,EAACD,UAAU,CAAClC,WAFnB;AAGXE,wBAAQ,EAACgC,UAAU,CAAChC,QAHT;AAIXC,2BAAW,EAAC+B,UAAU,CAAC/B,WAJZ;AAKXC,kCAAkB,EAAC8B,UAAU,CAAC9B,kBALnB;AAMXyB,+BAAe,EAACK,UAAU,CAAC7B,OAAX,CAAmBU,EANxB;AAOX7B,sBAAM,EAAI,KAAKA,MAAL,IAAe,IAAf,GAAsB,GAAtB,GAA4B,GAP3B;AAQXoD,yBAAS,EAAG,KAAKlD,YAAL,CAAkBiD;AARnB,eAAb;AAaA,mBAAKzD,kBAAL,CAAwBgE,OAAxB,CAAgCpD,MAAhC,EAAwCkB,SAAxC,CACE,UAACiB,IAAD,EAAa;AACX,oBAAGA,IAAI,CAACzC,MAAL,IAAe,IAAlB,EAAuB;AACrB,yBAAI,CAACL,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBK,aAAnC,EAAkD,SAAlD,EAA6D;AAAEH,4BAAQ,EAAE;AAAZ,mBAA7D;;AACA,yBAAI,CAACiC,MAAL,CAAYsB,QAAZ,CAAqB,CAAC,wCAAD,CAArB;AACD,iBAHD,MAII;AACA,yBAAI,CAACpH,QAAL,CAAc2D,IAAd,CAAmBb,IAAI,CAACiL,OAAxB,EAAiC,SAAjC,EAA4C;AAAElK,4BAAQ,EAAE;AAAZ,mBAA5C;AACD;AAKJ,eAbH,EAcE,UAACjB,GAAD,EAAO;AACL;AACA,uBAAI,CAAC5C,QAAL,CAAc2D,IAAd,CAAmB,kFAAgBG,YAAnC,EAAiD,SAAjD,EAA4D;AAAED,0BAAQ,EAAE;AAAZ,iBAA5D;AACD,eAjBH;AAmBD;AAGF;;;0CAEe9C,I,EAAiB;AAC/B,mBAAOA,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,UAA3B,IACH,wBADG,GAEHlD,IAAI,CAACqB,GAAL,CAAS,OAAT,EAAkB6B,QAAlB,CAA2B,OAA3B,IACA,mBADA,GAEA,EAJJ;AAKD;;;yCACcI,I,EAAS;AACtB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;gDAC6BA,I,EAAY;AACxC,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKxB,QAAL,CAAcyB,MAAd,CAAqB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAA3B,CAAP;AACD;;;6CAEgBrD,K,EAAK;AAAA;;AACrB,iBAAKkB,QAAL,GAAgBlB,KAAK,CAACiB,EAAtB;AACA,iBAAK/B,cAAL,CAAoByB,iBAApB,CAAsC,CAAtC,EAA0CC,SAA1C,CACC,UAAC8C,SAAD,EAAiB;AACf;AACA,qBAAI,CAAC7C,MAAL,GAAc6C,SAAd,CAFe,CAGhB;AACA;;AAEC,qBAAI,CAACrC,mBAAL,GAA2B,OAAI,CAACvB,IAAL,CAAUwB,QAAV,CAAmBtB,KAAnB,CAAyBuB,YAAzB,CAC1BC,IAD0B,CAEzB,iEAAU,EAAV,CAFyB,EAGzB,2DAAI,UAAA7C,KAAK;AAAA,uBAAI,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAAC8C,IAA9C;AAAA,eAAT,CAHyB,EAIzB,2DAAI,UAAAA,IAAI;AAAA,uBAAIA,IAAI,GAAG,OAAI,CAACC,YAAL,CAAkBD,IAAlB,CAAH,GAA6B,OAAI,CAACZ,MAA1C;AAAA,eAAR,CAJyB,CAA3B;AAOD,aAdF,EAcG,UAACc,GAAD,EAAO,CAER,CAhBF;AAkBF;;;uCAGYyB,I,EAAS;AACpB,mBAAOA,IAAI,IAAIA,IAAI,CAAC3B,IAAb,GAAoB2B,IAAI,CAAC3B,IAAzB,GAAgC,EAAvC;AACD;;;uCACoBA,I,EAAY;AAC/B,gBAAM4B,WAAW,GAAG5B,IAAI,CAAC6B,WAAL,EAApB;AACA,mBAAO,KAAKzC,MAAL,CAAY0C,MAAZ,CAAmB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAAC/B,IAAP,CAAY6B,WAAZ,GAA0BG,QAA1B,CAAmCJ,WAAnC,CAAJ;AAAA,aAAzB,CAAP;AACD;;;uCAGYJ,K,EAAK;AAChB,iBAAK7D,MAAL,GAAc6D,KAAK,CAACC,OAApB;AACA,iBAAKC,GAAL,CAASD,OAAT,GAAmB,KAAK9D,MAAxB;AACD;;;;;;;yBAxKYwN,e,EAAe,2H,EAAA,wI,EAAA,uH,EAAA,kL,EAAA,uJ;AAAA,O;;;cAAfA,e;AAAe,mC;AAAA;AAAA;;;;;;;;;;;;;;;AC3B5B;;AACE;;AACgC;AAAA,qBAAU,IAAAG,QAAA,EAAV;AAAoB,aAApB,EAAqB,eAArB,EAAqB;AAAA,qBAAkBC,MAAM,CAACC,cAAP,EAAlB;AAAyC,aAA9D;;AAC9B;;AACE;;AACE;;AAAW;;AAAa;;AACxB;;AAEA;;AACE;;;;AAGF;;AACH;;AAA2C;;AAAW;;AACjD;;AACJ;;AACA;;AACE;;AAAW;;AAAK;;AAChB;;AAEA;;AACE;;;;AAGF;;AACA;;AACH;;AAA2C;;AAAW;;AACjD;;AAA4E;;AAAa;;AAC3F;;AACE;;AAEJ;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AAEA;;AACA;;AACF;;AACA;;AACE;;AAAW;;AAAQ;;AACnB;;AACA;;AAA4E;;AAAa;;AACzF;;AAEF;;AACF;;AACA;;AACE;;AACE;;AAAW;;AAAe;;AAC1B;;AACA;;AAAwE;;AAAI;;AAC9E;;AAEA;;AACE;;AAAW;;AAAkB;;AAC7B;;AACA;;AAAgF;;AAAI;;AACtF;;AACF;;AAIA;;AACE;;AACE;;AAAqF;AAAA,qBAAU,IAAArJ,YAAA,QAAV;AAA8B,aAA9B;;AAEnF;;AAAoC;;AACxC;;AACF;;AACA;;AACE;;AAAuD;;AAAI;;AAC3D;;AAAsH;;AAAM;;AAC9H;;AAEF;;AACF;;;;;;;;AA7EQ;;AAAA;;AAKyE;;AAAA;;AAExB;;AAAA;;AAChB;;AAAA;;AAKnB;;AAAA;;AAIsC;;AAAA;;AAEL;;AAAA;;AACd;;AAAA;;AAQnB;;AAAA;;AASF;;AAAA;;AACA;;AAAA;;AAMA;;AAAA;;AAsBsD;;AAAA;;AAEhE;;AAAA;;;;;;;;qBD5CO;;;;;;wEAEJgJ,e,EAAe;gBAP3B,uDAO2B;iBAPjB;AACT9I,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD,CAHF;AAITC,yBAAa,EAAE,gEAAkBC,IAJxB;AAKTC,sBAAU,EAAK;AALN,W;AAOiB,U;;;;;;;;;;;;;AAWEhB,aAAG,EAAE,CAAF;kBAA9B,uDAA8B;mBAApB,e;AAAoB,WAAE","file":"subsidy-subsidy-module-es5.js","sourcesContent":["import { NgModule} from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TABS_DEMO_ROUTES } from './subsidy-crud/routes';\r\nimport { SubsidyCrudComponent } from './subsidy-crud/subsidy-crud.component';\r\nimport { AuthGuard } from 'app/shared/interceptors/auth-gaurd';\r\nconst routes : Routes = [\r\n    {\r\n        path : 'crud',component : SubsidyCrudComponent,canActivate: [AuthGuard], children : TABS_DEMO_ROUTES\r\n    }\r\n     \r\n]\r\n\r\n@NgModule({\r\n    imports : [RouterModule.forChild(routes)],\r\n    exports : [RouterModule]\r\n})\r\n\r\nexport class SubsidyRoutingModule{}","import { Component, OnInit, Inject, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, ValidatorFn, AbstractControl } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MtxDialogData } from '@ng-matero/extensions';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { CountriesService } from 'app/shared/services/countries.service';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nfunction autocompleteObjectValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } | null => {\r\n    if (typeof control.value === 'string') {\r\n      return { 'invalidAutocompleteObject': { value: control.value } }\r\n    }\r\n    return null  /* valid option selected */\r\n  }\r\n}\r\n@Component({\r\n  selector: 'app-action-dialog',\r\n  templateUrl: './action-dialog.component.html',\r\n  styleUrls: ['./action-dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class ActionDialogComponent implements OnInit {\r\n\r\n  params: any;\r\n  isEditMode = false;\r\n  form: FormGroup;\r\n  filteredOptionState: Observable<any[]>;\r\n  filteredOptionsVehicle:Observable<any[]>;\r\n  stateName:any;\r\n \r\n  vehicles:any;\r\n  states:any;\r\n  state_id:any;\r\n  @ViewChild(\"toggleElement\") ref: any;\r\n  status = false;\r\n  errorMsg:String;\r\n  splitted:String;\r\n  localStorage:any;\r\n  filteredOptionsClient: Observable<any[]>;\r\n  constructor(private fb: FormBuilder,private govtSubsidyService:GovtSubsidyService, private snackBar: MatSnackBar,\r\n    public dialogRef: MatDialogRef<ActionDialogComponent>, @Inject(MAT_DIALOG_DATA) public data: MtxDialogData, public countryService: CountriesService) { }\r\n\r\n  ngOnInit() {\r\n    this.initialize();\r\n  }\r\n\r\n  initialize() {\r\n\r\n    this.localStorage = JSON.parse(localStorage.getItem('userDetails'));\r\n\r\n    this.params = this.data;\r\n\r\n    this.isEditMode = this.params.action == 'CREATE' ? false : true;\r\n    this.getVehicle();\r\n    this.getStatesByCountry(1);\r\n    this.form = this.fb.group({\r\n      state:['',[autocompleteObjectValidator(),Validators.required]],\r\n      battery_kwh: ['', [Validators.required,Validators.pattern(/^[0-9]*$/)]],\r\n      capacity : ['', [Validators.required,Validators.pattern(/^[a-zA-Z0-9 ]*$/)]] ,\r\n      max_subsidy: [''],\r\n      road_tax_exemption : ['' ] ,     \r\n      vehicle:['',[autocompleteObjectValidator(),Validators.required]],\r\n     status : this.status == true ? 'M' : 'N'\r\n    });\r\n    \r\n    if (this.isEditMode) {\r\n      this.assignValues(this.params);\r\n    }\r\n    this.getAllState(1);\r\n  }\r\n\r\n  getAllState(countryID){\r\n    this.countryService.getStateByCountry(countryID).subscribe(\r\n      (data:any)=>{\r\n        //;\r\n        this.states = data;\r\n        if(this.isEditMode){\r\n          //;\r\n          const toSelect = this.states.find(c => c.id == this.params.data.state_id);\r\n          this.form.get('state').setValue(toSelect);\r\n         \r\n          this.filteredOptionState = this.form.controls.state.valueChanges\r\n           .pipe(\r\n          startWith(''),\r\n          //tap(() => this.form.controls.chargingModel.setValue(toSelect)),\r\n          map(value => typeof value === 'string' ? value : value.name),\r\n          map(name => name ? this._filterState(name) : this.states)\r\n        );\r\n        }\r\n        \r\n         },(err)=>{\r\n           \r\n         }\r\n    )\r\n  }\r\n  \r\n \r\n  getVehicle() {\r\n    this.govtSubsidyService.getVehicleTypes().subscribe(\r\n      (resp: any) => {\r\n        this.vehicles = resp;\r\n\r\n        if (this.isEditMode) {\r\n\r\n          const toSelect = this.vehicles.find(c => c.id == this.params.data.vehicle_type_id);\r\n          this.form.get('vehicle').setValue(toSelect);\r\n        }\r\n        this.filteredOptionsVehicle = this.form.controls.vehicle.valueChanges\r\n          .pipe(\r\n            startWith(''),\r\n            map(value => typeof value === 'string' ? value : value.name),\r\n            map(name => name ? this._filterVehicleModels(name) : this.vehicles)\r\n          );\r\n      }, (err) => {\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  close() {\r\n\r\n    this.dialogRef.close();\r\n  }\r\n  closeActionPanel(){\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  onYesClick() {\r\n    if(this.form.valid){\r\n      let formValues = this.form.value;\r\n      const params: any = {\r\n        state_id : formValues.state.id,\r\n        per_KWh_of_battery:formValues.battery_kwh,\r\n        capacity:formValues.capacity,\r\n        max_subsidy:formValues.max_subsidy,\r\n        road_tax_exemption:formValues.road_tax_exemption,\r\n        vehicle_type_id:formValues.vehicle.id,\r\n        status :  this.status == true ? 'M' : 'N',   \r\n      }\r\n  \r\n      if (this.isEditMode) {\r\n        params.id = this.params.data.id,\r\n          params.modifyby = this.localStorage.userId;\r\n      } else {\r\n        params.createdby = this.localStorage.userId;\r\n      }\r\n  \r\n      if (this.isEditMode) {\r\n        this.govtSubsidyService.updateSubsidy(params).subscribe(\r\n          (resp: any) => {\r\n            if(resp.status == true){\r\n              this.snackBar.open(MessageConstant.recordUpdateMessage, 'Dismiss', { duration: 5000 });\r\n              this.dialogRef.close();\r\n            }\r\n            \r\n          },\r\n          (err) => {\r\n            this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n          }\r\n        )\r\n      } else {\r\n        this.govtSubsidyService.subsidy(params).subscribe(\r\n          (data: any) => {\r\n            this.snackBar.open(MessageConstant.subsidyCreate, 'Dismiss', { duration: 5000 });\r\n            this.dialogRef.close();\r\n          },\r\n          (err) => {\r\n            this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n          }\r\n        )\r\n  \r\n      }\r\n  \r\n      this.dialogRef.close(params);\r\n    }else{\r\n      this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n    }\r\n    \r\n  }\r\n\r\n  getErrorMessage(form: FormGroup) {\r\n    return form.get('email').hasError('required')\r\n      ? 'You must enter a value'\r\n      : form.get('email').hasError('email')\r\n        ? 'Not a valid email'\r\n        : '';\r\n  }\r\n\r\n  assignValues(params) {\r\n\r\n    this.form.get('battery_kwh').setValue(params.data.per_KWh_of_battery);\r\n    this.form.get('capacity').setValue(params.data.capacity);\r\n    this.form.get('max_subsidy').setValue(params.data.max_subsidy);\r\n    this.form.get('road_tax_exemption').setValue(params.data.road_tax_exemption);\r\n    \r\n    this.status = params.data.status == 'M' ? true : false;\r\n  }\r\n\r\n  updateStatus(event) {\r\n    this.status = event.checked;\r\n    this.ref.checked = this.status;\r\n  }\r\n  displayVehicle(item: any): string {\r\n    return item && item.name ? item.name : '';\r\n  }\r\n  private _filterVehicleModels(name: string): any[] {\r\n    const filterValue = name.toLowerCase();\r\n    return this.vehicles.filter(option => option.name.toLowerCase().includes(filterValue));\r\n  }\r\n \r\n  getStatesByCountry(state) {\r\n    //this.state_id = state.id;\r\n    this.countryService.getStateByCountry(1).subscribe(\r\n      (statedata: any) => {\r\n        //this.form.reset();\r\n        this.states = statedata;\r\n        // const toSelect = this.states.find(c => c.id == data[0].state_id);\r\n        // this.form.get('state').setValue(toSelect);\r\n\r\n        this.filteredOptionState = this.form.controls.state.valueChanges\r\n          .pipe(\r\n            startWith(''),\r\n            map(value => typeof value === 'string' ? value : value.name),\r\n            map(name => name ? this._filterState(name) : this.states)\r\n          );\r\n\r\n      }, (err) => {\r\n\r\n      }\r\n    )\r\n  }\r\n \r\n \r\n  displayState(item: any): string {\r\n    return item && item.name ? item.name : '';\r\n  }\r\n  private _filterState(name: string): any[] {\r\n    const filterValue = name.toLowerCase();\r\n    return this.states.filter(option => option.name.toLowerCase().includes(filterValue));\r\n  }\r\n\r\n  \r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","<!-- <page-header title=\"Vehicle On-Board\"></page-header> -->\r\n<!-- close button on popup -->\r\n<mat-icon id=\"dialog_action_close\" matTooltip=\"Close window\" (click)=\"closeActionPanel()\"\r\n  style=\"cursor:pointer;color:white\" class=\"material-icons-outlined\">clear</mat-icon> \r\n  \r\n\r\n<mat-toolbar class=\"action_toolbar\">Update Subsidy</mat-toolbar>\r\n<div style=\"padding:24px;max-height: 22vw;overflow: auto;\">\r\n  <div id=\"forms\" class=\"page-layout simple fullwidth\" fxLayout=\"column\">\r\n    <form [formGroup]=\"form\" class=\" mat-elevation-z4 \" fxLayout=\"column\" fxLayoutAlign=\"start\" fxFlex=\"1 0 auto\"\r\n      name=\"form\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Vechicle Type</mat-label>\r\n          <input type=\"text\" matInput formControlName=\"vehicle\" autocomplete=\"off\" [matAutocomplete]=\"vehicleAuto\"\r\n            required>\r\n          <mat-autocomplete #vehicleAuto=\"matAutocomplete\" [displayWith]=\"displayVehicle\">\r\n            <mat-option *ngFor=\"let option of filteredOptionsVehicle | async\" [value]=\"option\">\r\n              {{option.name}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n            <mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n            <mat-error *ngIf=\"form.get('vehicle').invalid\">Please select client </mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>State</mat-label>\r\n          <input type=\"text\" matInput formControlName=\"state\" [matAutocomplete]=\"stateAuto\" autocomplete=\"off\"\r\n            required>\r\n          <mat-autocomplete #stateAuto=\"matAutocomplete\" [displayWith]=\"displayState\">\r\n            <mat-option *ngFor=\"let option of filteredOptionState | async\" [value]=\"option\">\r\n              {{option.name}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n          <div matSuffix style=\"display: flex;\">\r\n            <mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n            <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please select state\">location_city</mat-icon>\r\n          </div>\r\n            <mat-error *ngIf=\"form.get('state').invalid\">Please select state\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Battery Per kWH</mat-label>\r\n          <input matInput placeholder=\"\" formControlName=\"battery_kwh\" maxlength=\"50\" type=\"number\" autocomplete=\"off\" required>\r\n          \r\n          <mat-error *ngIf=\"form.get('battery_kwh').hasError('required')\">Please enter battery per kWH</mat-error>\r\n          <mat-error *ngIf=\"form.get('battery_kwh').hasError('pattern')\">Special character are not allowed</mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Capacity</mat-label>\r\n          <input matInput placeholder=\"\" formControlName=\"capacity\" type=\"number\" autocomplete=\"off\" required>\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please enter mobile\">settings_cell</mat-icon>\r\n          <mat-error *ngIf=\"form.get('capacity').hasError('required')\">Please enter capacity</mat-error>\r\n        \r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Maximum Subsidy</mat-label>\r\n          <input matInput  formControlName=\"max_subsidy\"   type=\"number\" autocomplete=\"off\" maxlength=\"15\" >\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Maximum subsidy\">help</mat-icon>\r\n        </mat-form-field>\r\n  \r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Road Tax Exemption</mat-label>\r\n          <input matInput placeholder=\"\" formControlName=\"road_tax_exemption\" type=\"number\"  autocomplete=\"off\" >\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"TIN Format(01234567890)\">help</mat-icon>\r\n        </mat-form-field>\r\n      </div>\r\n      \r\n      \r\n     \r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <div fxFlex=\"50\" fxFlex.lt-sm=\"100\">\r\n          <mat-slide-toggle class=\"example-margin\" color=\"primary\" disabled [checked]=\"status\" (change)=\"updateStatus($event)\"\r\n            #toggleElement>\r\n            {{status ? 'Moderate' : 'Inactive'}}</mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" style=\"padding-top:10px\">\r\n        <button mat-raised-button color=\"primary\" type=\"button\" class=\"mr-8\" (click)=\"onYesClick()\">{{isEditMode ?\r\n          'Save' : 'Save'}}</button>\r\n        <button mat-raised-button type=\"button\" color=\"warn\" class=\"mr-8\" (click)=\"close()\">Cancel</button>\r\n      </div>\r\n\r\n    </form>\r\n  </div>\r\n</div>","import { Component, OnInit, Inject, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, ValidatorFn, AbstractControl } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MtxDialogData } from '@ng-matero/extensions';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators';\r\nimport { CountriesService } from 'app/shared/services/countries.service';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nfunction autocompleteObjectValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } | null => {\r\n    if (typeof control.value === 'string') {\r\n      return { 'invalidAutocompleteObject': { value: control.value } }\r\n    }\r\n    return null  /* valid option selected */\r\n  }\r\n}\r\n@Component({\r\n  selector: 'app-view-dialog',\r\n  templateUrl: './view-dialog.component.html',\r\n  styleUrls: ['./view-dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class ViewDialogComponent implements OnInit {\r\n\r\n  params: any;\r\n  isEditMode = false;\r\n  form: FormGroup;\r\n  filteredOptionState: Observable<any[]>;\r\n  filteredOptionsVehicle:Observable<any[]>;\r\n  stateName:any;\r\n \r\n  vehicles:any;\r\n  states:any;\r\n  state_id:any;\r\n  @ViewChild(\"toggleElement\") ref: any;\r\n  status = false;\r\n  errorMsg:String;\r\n  splitted:String;\r\n  localStorage:any;\r\n  filteredOptionsClient: Observable<any[]>;\r\n  isPublish:boolean = false;\r\n  isModrate:boolean = false;\r\n\r\n  constructor(private fb: FormBuilder,private govtSubsidyService:GovtSubsidyService, private snackBar: MatSnackBar,\r\n    public dialogRef: MatDialogRef<ViewDialogComponent>, @Inject(MAT_DIALOG_DATA) public data: MtxDialogData, public countryService: CountriesService) { }\r\n  ngOnInit() {\r\n    this.initialize();\r\n  }\r\n\r\n  initialize() {\r\n\r\n    this.localStorage = JSON.parse(localStorage.getItem('userDetails'));\r\n\r\n    this.params = this.data;\r\n\r\n    this.isEditMode = this.params.action == 'CREATE' ? false : true;\r\n    this.isPublish = this.params.buttonAction == 'publishAction'? true:false;\r\n    this.isModrate = this.params.buttonAction == 'modrateAction'? true:false;\r\n    this.getVehicle();\r\n    this.getStatesByCountry(1);\r\n    this.form = this.fb.group({\r\n      state:['',[autocompleteObjectValidator(),Validators.required]],\r\n      battery_kwh: ['', [Validators.required,Validators.pattern(/^[0-9]*$/)]],\r\n      capacity : ['', [Validators.required,Validators.pattern(/^[a-zA-Z0-9 ]*$/)]] ,\r\n      max_subsidy: [''],\r\n      road_tax_exemption : ['' ] ,     \r\n      vehicle:['',[autocompleteObjectValidator(),Validators.required]],\r\n     status : this.status == true ? 'M' : 'N'\r\n    });\r\n    \r\n    if (this.isEditMode) {\r\n      this.assignValues(this.params);\r\n    }\r\n    this.getAllState(1);\r\n  }\r\n    getAllState(countryID){\r\n      this.countryService.getStateByCountry(countryID).subscribe(\r\n        (data:any)=>{\r\n          //;\r\n          this.states = data;\r\n          if(this.isEditMode){\r\n            //;\r\n            const toSelect = this.states.find(c => c.id == this.params.data.state_id);\r\n            this.form.get('state').setValue(toSelect);\r\n           \r\n            this.filteredOptionState = this.form.controls.state.valueChanges\r\n             .pipe(\r\n            startWith(''),\r\n            //tap(() => this.form.controls.chargingModel.setValue(toSelect)),\r\n            map(value => typeof value === 'string' ? value : value.name),\r\n            map(name => name ? this._filterState(name) : this.states)\r\n          );\r\n          }\r\n          \r\n           },(err)=>{\r\n             \r\n           }\r\n      )\r\n    }\r\n    \r\n   \r\n    getVehicle() {\r\n      this.govtSubsidyService.getVehicleTypes().subscribe(\r\n        (resp: any) => {\r\n          this.vehicles = resp;\r\n  \r\n          if (this.isEditMode) {\r\n  \r\n            const toSelect = this.vehicles.find(c => c.id == this.params.data.vehicle_type_id);\r\n            this.form.get('vehicle').setValue(toSelect);\r\n          }\r\n          this.filteredOptionsVehicle = this.form.controls.vehicle.valueChanges\r\n            .pipe(\r\n              startWith(''),\r\n              map(value => typeof value === 'string' ? value : value.name),\r\n              map(name => name ? this._filterVehicleModels(name) : this.vehicles)\r\n            );\r\n        }, (err) => {\r\n  \r\n        }\r\n      )\r\n  \r\n    }\r\n  \r\n    close() {\r\n  \r\n      this.dialogRef.close();\r\n    }\r\n    closeActionPanel(){\r\n      this.dialogRef.close();\r\n    }\r\n  \r\n    onYesClick() {\r\n      if(this.form.valid){\r\n        let formValues = this.form.value;\r\n        const params: any = {\r\n          state_id : formValues.state.id,\r\n          per_KWh_of_battery:formValues.battery_kwh,\r\n          capacity:formValues.capacity,\r\n          max_subsidy:formValues.max_subsidy,\r\n          road_tax_exemption:formValues.road_tax_exemption,\r\n          vehicle_type_id:formValues.vehicle.vehicle_type_id,\r\n          status :  this.status == true ? 'M' : 'N',   \r\n        }\r\n    \r\n        if (this.isEditMode) {\r\n          params.id = this.params.data.id,\r\n            params.modify_by = this.localStorage.userId;\r\n        } else {\r\n          params.created_by = this.localStorage.userId;\r\n        }\r\n    \r\n        if (this.isEditMode) {\r\n          this.govtSubsidyService.updateSubsidy(params).subscribe(\r\n            (resp: any) => {\r\n              if(resp.status == true){\r\n                this.snackBar.open(MessageConstant.recordUpdateMessage, 'Dismiss', { duration: 5000 });\r\n                this.dialogRef.close();\r\n              }\r\n              \r\n            },\r\n            (err) => {\r\n              this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n            }\r\n          )\r\n        } else {\r\n          this.govtSubsidyService.subsidy(params).subscribe(\r\n            (data: any) => {\r\n              this.snackBar.open(MessageConstant.subsidyCreate, 'Dismiss', { duration: 5000 });\r\n              this.dialogRef.close();\r\n            },\r\n            (err) => {\r\n              this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n            }\r\n          )\r\n    \r\n        }\r\n    \r\n        this.dialogRef.close(params);\r\n      }else{\r\n        this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n      }\r\n      \r\n    }\r\n  \r\n    getErrorMessage(form: FormGroup) {\r\n      return form.get('email').hasError('required')\r\n        ? 'You must enter a value'\r\n        : form.get('email').hasError('email')\r\n          ? 'Not a valid email'\r\n          : '';\r\n    }\r\n  \r\n    assignValues(params) {\r\n  \r\n      this.form.get('battery_kwh').setValue(params.data.per_KWh_of_battery);\r\n    this.form.get('capacity').setValue(params.data.capacity);\r\n    this.form.get('max_subsidy').setValue(params.data.max_subsidy);\r\n    this.form.get('road_tax_exemption').setValue(params.data.road_tax_exemption);\r\n      \r\n      this.status = params.data.status == 'M' ? true : false;\r\n    }\r\n  \r\n    updateStatus(event) {\r\n      this.status = event.checked;\r\n      this.ref.checked = this.status;\r\n    }\r\n    displayVehicle(item: any): string {\r\n      return item && item.name ? item.name : '';\r\n    }\r\n    private _filterVehicleModels(name: string): any[] {\r\n      const filterValue = name.toLowerCase();\r\n      return this.vehicles.filter(option => option.name.toLowerCase().includes(filterValue));\r\n    }\r\n   \r\n    getStatesByCountry(state) {\r\n      this.state_id = state.id;\r\n      this.countryService.getStateByCountry(this.state_id).subscribe(\r\n        (statedata: any) => {\r\n          //this.form.reset();\r\n          this.states = statedata;\r\n          // const toSelect = this.states.find(c => c.id == data[0].state_id);\r\n          // this.form.get('state').setValue(toSelect);\r\n  \r\n          this.filteredOptionState = this.form.controls.state.valueChanges\r\n            .pipe(\r\n              startWith(''),\r\n              map(value => typeof value === 'string' ? value : value.name),\r\n              map(name => name ? this._filterState(name) : this.states)\r\n            );\r\n  \r\n        }, (err) => {\r\n  \r\n        }\r\n      )\r\n    }\r\n   \r\n   \r\n    displayState(item: any): string {\r\n      return item && item.name ? item.name : '';\r\n    }\r\n    private _filterState(name: string): any[] {\r\n      const filterValue = name.toLowerCase();\r\n      return this.states.filter(option => option.name.toLowerCase().includes(filterValue));\r\n    }\r\n    onPublish(){\r\n      const params: any = {\r\n        id : this.params.data.id,\r\n        status:\"Y\",\r\n      modifyby :this.localStorage.userId\r\n      }\r\n      this.govtSubsidyService.publishSubsidy(params).subscribe(\r\n        (resp: any) => {\r\n          if(resp.status == true){\r\n            this.snackBar.open(MessageConstant.recordUpdateMessage, 'Dismiss', { duration: 5000 });\r\n            this.dialogRef.close();\r\n          }\r\n          \r\n        },\r\n        (err) => {\r\n          this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n          this.dialogRef.close();\r\n        }\r\n      )\r\n    }\r\n    onModrate(){\r\n      const params: any = {\r\n        id : this.params.data.id,\r\n        status:\"M\",\r\n      modifyby :this.localStorage.userId\r\n      }\r\n      this.govtSubsidyService.moderateSubsidy(params).subscribe(\r\n        (resp: any) => {\r\n          if(resp.status == true){\r\n            this.snackBar.open(MessageConstant.recordUpdateMessage, 'Dismiss', { duration: 5000 });\r\n            this.dialogRef.close();\r\n          }\r\n          \r\n        },\r\n        (err) => {\r\n          this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n          this.dialogRef.close();\r\n        }\r\n      )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","<!-- <page-header title=\"Vehicle On-Board\"></page-header> -->\r\n<!-- close button on popup -->\r\n<mat-icon id=\"dialog_action_close\" matTooltip=\"Close window\" (click)=\"closeActionPanel()\"\r\n  style=\"cursor:pointer;color:white\" class=\"material-icons-outlined\">clear</mat-icon> \r\n  \r\n\r\n<mat-toolbar class=\"action_toolbar\">View Subsidy</mat-toolbar>\r\n<div style=\"padding:24px;max-height: 22vw;overflow: auto;\">\r\n  <div id=\"forms\" class=\"page-layout simple fullwidth\" fxLayout=\"column\">\r\n    <form [formGroup]=\"form\" class=\" mat-elevation-z4 \" fxLayout=\"column\" fxLayoutAlign=\"start\" fxFlex=\"1 0 auto\"\r\n      name=\"form\">\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Vechicle Type</mat-label>\r\n          <input type=\"text\" matInput formControlName=\"vehicle\"  readonly autocomplete=\"off\" [matAutocomplete]=\"vehicleAuto\"\r\n            required>\r\n          <mat-autocomplete #vehicleAuto=\"matAutocomplete\" [displayWith]=\"displayVehicle\">\r\n            <mat-option *ngFor=\"let option of filteredOptionsVehicle | async\" [value]=\"option\">\r\n              {{option.name}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n            <mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n            <mat-error *ngIf=\"form.get('vehicle').invalid\">Please select client </mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>State</mat-label>\r\n          <input type=\"text\" matInput formControlName=\"state\" readonly [matAutocomplete]=\"stateAuto\" autocomplete=\"off\"\r\n            required>\r\n          <mat-autocomplete #stateAuto=\"matAutocomplete\" [displayWith]=\"displayState\">\r\n            <mat-option *ngFor=\"let option of filteredOptionState | async\" [value]=\"option\">\r\n              {{option.name}}\r\n            </mat-option>\r\n          </mat-autocomplete>\r\n          <div matSuffix style=\"display: flex;\">\r\n            <mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n            <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please select state\">location_city</mat-icon>\r\n          </div>\r\n            <mat-error *ngIf=\"form.get('state').invalid\">Please select state\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Battery Per kWH</mat-label>\r\n          <input matInput placeholder=\"\" readonly formControlName=\"battery_kwh\" maxlength=\"50\" type=\"number\" autocomplete=\"off\" required>\r\n          \r\n          <mat-error *ngIf=\"form.get('battery_kwh').hasError('required')\">Please enter battery per kWH</mat-error>\r\n          <mat-error *ngIf=\"form.get('battery_kwh').hasError('pattern')\">Special character are not allowed</mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Capacity</mat-label>\r\n          <input matInput placeholder=\"\" readonly formControlName=\"capacity\" type=\"number\" autocomplete=\"off\" required>\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please enter mobile\">settings_cell</mat-icon>\r\n          <mat-error *ngIf=\"form.get('capacity').hasError('required')\">Please enter capacity</mat-error>\r\n        \r\n        </mat-form-field>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Maximum Subsidy</mat-label>\r\n          <input matInput  formControlName=\"max_subsidy\"  readonly  type=\"number\" autocomplete=\"off\" maxlength=\"15\" >\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Maximum subsidy\">help</mat-icon>\r\n        </mat-form-field>\r\n  \r\n        <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n          <mat-label>Road Tax Exemption</mat-label>\r\n          <input matInput placeholder=\"\" readonly formControlName=\"road_tax_exemption\" type=\"number\"  autocomplete=\"off\" >\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"TIN Format(01234567890)\">help</mat-icon>\r\n        </mat-form-field>\r\n      </div>\r\n      \r\n      \r\n     \r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n        <div fxFlex=\"50\" fxFlex.lt-sm=\"100\">\r\n          <mat-slide-toggle class=\"example-margin\" disabled color=\"primary\" [checked]=\"status\" (change)=\"updateStatus($event)\"\r\n            #toggleElement>\r\n            {{status ? 'Moderate' : 'Publish'}}</mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" style=\"padding-top:10px\">\r\n        <button mat-raised-button color=\"primary\" type=\"button\" class=\"mr-8\"  *ngIf=\"isPublish\" (click)=\"onPublish()\">Publish</button>\r\n        <button mat-raised-button color=\"primary\" type=\"button\" class=\"mr-8\"  *ngIf=\"isModrate\" (click)=\"onModrate()\">Moderate</button>\r\n        <button mat-raised-button type=\"button\" color=\"warn\" class=\"mr-8\" (click)=\"close()\">Cancel</button>\r\n      </div>\r\n\r\n    </form>\r\n  </div>\r\n</div>","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ViewEncapsulation } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { UtilityService } from 'app/shared/services/utility/utility.service';\r\n/**\r\n * @title Basic use of the tab group\r\n */\r\n@Component({\r\n  selector: 'app-subsidy-crud',\r\n  templateUrl: './subsidy-crud.component.html',\r\n  styleUrls: ['./subsidy-crud.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations: fuseAnimations\r\n})\r\nexport class SubsidyCrudComponent implements OnInit {\r\n\r\n  tabLinks = [\r\n    // { label: '4 Wheelers', link: 'list4Wheelers' },\r\n    // { label: '2 Wheelers', link: 'list2Wheelers' },\r\n    // { label: 'Moderate', link: 'listModerate' },\r\n    // { label: 'Add New', link: 'create' }\r\n  ];\r\n  menuArray: any;\r\n  localStorage: any;\r\n  objectData: any;\r\n  objectChildData: any;\r\n  tempLinks = [];\r\n\r\n  constructor(private router: Router, private cdr: ChangeDetectorRef, private _utilityService: UtilityService) {\r\n\r\n  }\r\n  ngAfterViewInit() {\r\n    this._utilityService.activeMenuItems$.subscribe(menuItemSelecte => {\r\n      this.menuArray = menuItemSelecte;\r\n      if (this.menuArray == null || this.menuArray == undefined || this.menuArray.title == null || this.menuArray.title == undefined) {\r\n        this.menuArray = JSON.parse(localStorage.getItem('activeMenuItems'));\r\n      }\r\n      this.cdr.detectChanges();\r\n    })\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.localStorage = JSON.parse(localStorage.getItem('userDetails'));\r\n    var nav_list = this.localStorage.nav_list_with_tab;\r\n    //console.log(nav_list)\r\n    nav_list.filter((x) => {\r\n      if (x.id === \"evSpace\") {\r\n        this.objectData = x;\r\n        if (this.objectData.children != null && this.objectData.children != undefined) {\r\n          this.objectData.children.filter((y) => {\r\n            if (y.id === \"govtSubsidy\") {\r\n              this.objectChildData = y;\r\n              let isDefaultRoutePermeted = false;\r\n              if (this.objectChildData.children != null && this.objectChildData.children != undefined) {\r\n                this.objectChildData.children.filter((z) => {\r\n                  if (z.id === \"incentive2wheelers\") {\r\n                    isDefaultRoutePermeted = true;\r\n                    this.tempLinks.push({ label: '2 Wheelers', link: 'list2Wheelers' });\r\n                  }\r\n                  if (z.id === \"incentiveCarSUV\") {\r\n                    isDefaultRoutePermeted = true;\r\n                    this.tempLinks.push({ label: '4 Wheelers', link: 'list4Wheelers' });\r\n                  }\r\n                  if (z.id === \"moderate\") {\r\n                    isDefaultRoutePermeted = true;\r\n                    this.tempLinks.push({ label: 'Moderate', link: 'listModerate' });\r\n                  }\r\n                  if (z.id === \"create\") {\r\n                    this.tempLinks.push({ label: 'Add New', link: 'create' });\r\n                  }\r\n                });\r\n              }\r\n\r\n              this.tabLinks = this.tempLinks;\r\n              if (!isDefaultRoutePermeted) {\r\n                this.router.navigate(['/evSpace/govtSubsidy/crud/' + this.tempLinks[0].link]);\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n","<div style=\"display: block;width: 100%;\">\r\n  <div id=\"\" class=\"page-layout simple right-sidebar\" fxLayout=\"row\">\r\n\r\n    <!-- CENTER -->\r\n    <div class=\"center\" fusePerfectScrollbar>\r\n\r\n        <!-- HEADER -->\r\n        <div class=\"header accent px-24 pt-16 pb-0\" fxLayout=\"column\" fxLayoutAlign=\"space-between\">\r\n\r\n            <div fxLayout=\"row\" fxLayoutAlign=\"space-between start\">\r\n\r\n                <span class=\"mat-display-1 my-0 my-sm-24 welcome-message\"\r\n                      [@animate]=\"{value:'*',params:{x:'50px'}}\"> Govt Subsidy\r\n                      <!-- {{menuArray?.title}} -->\r\n                </span>\r\n\r\n                <!--button mat-icon-button class=\"sidebar-toggle mr-8\" fxHide.gt-md\r\n                        (click)=\"toggleSidebar('project-dashboard-right-sidebar-1')\">\r\n                    <mat-icon>menu</mat-icon>\r\n                </button-->\r\n            </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n<nav mat-tab-nav-bar aria-label=\"weather navigation links\">\r\n    <a mat-tab-link\r\n       *ngFor=\"let tabLink of tabLinks; let i = index\"\r\n       [routerLink]=\"tabLink.link\"\r\n       routerLinkActive #rla=\"routerLinkActive\"\r\n       [active]=\"rla.isActive\">\r\n      {{tabLink.label}}\r\n    </a>\r\n  </nav>\r\n  <router-outlet ></router-outlet>\r\n</div>\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nimport { Routes } from '@angular/router';\r\nimport { ListComponent } from '../list/list.component';\r\nimport { CreateComponent } from '../create/create.component';\r\nimport { AuthGuard } from 'app/shared/interceptors/auth-gaurd';\r\nimport { List2WheelersComponent } from '../list2Wheeler/list2Wheelers.component';\r\nimport { List4WheelersComponent } from '../list4Wheelers/list4Wheelers.component';\r\n\r\nexport const TABS_DEMO_ROUTES: Routes = [\r\n  { \r\n    path: 'create', canActivate: [AuthGuard], component: CreateComponent \r\n  },\r\n  { \r\n    path: 'listModerate', canActivate: [AuthGuard], component: ListComponent\r\n  },\r\n  { \r\n    path: 'list2Wheelers', canActivate: [AuthGuard], component: List2WheelersComponent\r\n  },\r\n  { \r\n    path: 'list4Wheelers', canActivate: [AuthGuard], component: List4WheelersComponent\r\n  },\r\n  { \r\n    path: '', redirectTo: 'listModerate', pathMatch: 'full' \r\n  },\r\n];\r\n","\r\nimport {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {MatPaginator} from '@angular/material/paginator';\r\nimport {MatSort} from '@angular/material/sort';\r\nimport {MatTableDataSource} from '@angular/material/table';\r\nimport { ActionDialogComponent } from '../action-dialog/action-dialog.component';\r\nimport { MatDialog,MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport { MatTableFilter } from 'mat-table-filter';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport {FuseConfirmDialogComponent} from '@fuse/components/confirm-dialog/confirm-dialog.component';\r\nimport { ViewDialogComponent } from '../view-dialog/view-dialog.component';\r\nimport * as XLSX from 'xlsx';\r\nimport { jsPDF } from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nexport class Cpo {\r\n  id: string;\r\n  state_name: string;\r\n  per_KWh_of_battery: string;\r\n  capacity: string;\r\n  max_subsidy: string;\r\n  road_tax_exemption: string;\r\n  vehicle_type_id: string;\r\n  status: string;\r\n  created_date: string;\r\n  createdby: number;\r\n  modify_date: string;\r\n  modifyby: number;\r\n  statusString:string;\r\n  vehicle_type :string;\r\n}\r\n\r\n/**\r\n * @title Data table with sorting, pagination, and filtering.\r\n */\r\n@Component({\r\n  selector: 'app-list2Wheelers',\r\n  templateUrl: './list2Wheelers.component.html',\r\n  styleUrls: ['./list2Wheelers.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class List2WheelersComponent implements OnInit {\r\n \r\n  displayedColumns: string[] = [ 'state_name','vehicle_type','per_KWh_of_battery','capacity', 'road_tax_exemption','status','action'];\r\n  head = [['State Name', 'Vehicle Type','Battery Per KWh','Capacity','Road Tax','Status']];\r\n  dataSource: MatTableDataSource<Cpo>;\r\n  filterEntity: Cpo;\r\n  filterType: MatTableFilter;\r\n  localStorage : any;\r\n  subsidys : Cpo[];\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n  confirmDialogRef: MatDialogRef<FuseConfirmDialogComponent>;\r\n  dialogRef: any;\r\n  stateSearch = false;\r\n  vehicleSearch = false;\r\n  batterySearch = false;\r\n  capcitySearch = false;\r\n  roadSearch = false;\r\n  statusSearch = false;\r\n  exportedData: any[];\r\n  \r\n  constructor(private govtSubsidyService : GovtSubsidyService,public dialog : MatDialog,\r\n    private snackBar : MatSnackBar) {\r\n    // Create 100 users\r\n    // const users = Array.from({length: 100}, (_, k) => createNewUser(k + 1));\r\n\r\n    // Assign the data to the data source for the table to render\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.localStorage = JSON.parse( localStorage.getItem('userDetails'));\r\n    this.getCpos();\r\n    this.filterEntity = new Cpo();\r\n    this.filterType = MatTableFilter.ANYWHERE;\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n\r\n    if (this.dataSource.paginator) {\r\n      this.dataSource.paginator.firstPage();\r\n    }\r\n  }\r\n\r\n  getCpos(){\r\n    \r\n    this.govtSubsidyService.getSubsidyByVehicleTypeId(\"Two Wheeler\").subscribe(\r\n      (resp:any)=>{\r\n       \r\n        if(resp != null){\r\n          this.subsidys = resp.data;\r\n          for(var i=0; i < this.subsidys.length;i++){\r\n            if(this.subsidys[i].status == 'N'){\r\n              this.subsidys[i].statusString = 'Inactive';\r\n            }else{\r\n              this.subsidys[i].statusString = 'Active';\r\n            }\r\n            \r\n           \r\n          }\r\n          this.dataSource = new MatTableDataSource(this.subsidys);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSource.sort = this.sort;\r\n        }else{\r\n          this.snackBar.open(MessageConstant.NoRecordFoundMessage, 'Dismiss',{duration : 3000 })\r\n          return;\r\n        }\r\n      },(err)=>{\r\n        //;\r\n      }\r\n    )\r\n  }\r\n\r\n  delete(id){\r\n    this.confirmDialogRef = this.dialog.open(FuseConfirmDialogComponent, {\r\n      disableClose: true\r\n  });\r\n\r\n  \r\n  }\r\n\r\n\r\n  openDialog(action,data): void {\r\n    \r\n    let params = {\r\n      action : action,\r\n      data : data\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ActionDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      autoFocus: false,\r\n      panelClass: 'app-action-dialog', \r\n      disableClose: true   \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getCpos();\r\n    });\r\n  }\r\n  viewDialog(action,data,buttonAction) : void{\r\n    let params = {\r\n      action : action,\r\n      data : data,\r\n      buttonAction:buttonAction\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ViewDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      panelClass: 'app-action-dialog',\r\n      autoFocus: false,\r\n      disableClose: true    \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getCpos();\r\n    });\r\n  }\r\n  changeVisibility(visibleOption,ev){\r\n\r\n    ev.stopPropagation();\r\n    // visibleOption = !visibleOption;\r\n    //nameSearch = false;\r\n      //descSearch = false;\r\n    if(visibleOption == 'stateSearch'){\r\n      this.stateSearch = !this.stateSearch;\r\n      this.filterEntity.state_name = '';\r\n    }\r\n    if(visibleOption == 'vehicleSearch'){\r\n      this.vehicleSearch = !this.vehicleSearch;\r\n      this.filterEntity.vehicle_type = '';\r\n    }\r\n    if(visibleOption == 'batterySearch'){\r\n      this.batterySearch = !this.batterySearch;\r\n      this.filterEntity.per_KWh_of_battery = '';\r\n    }\r\n    if(visibleOption == 'capcitySearch'){\r\n      this.capcitySearch = !this.capcitySearch;\r\n      this.filterEntity.capacity = '';\r\n    }\r\n    if(visibleOption == 'roadSearch'){\r\n      this.roadSearch = !this.roadSearch;\r\n      this.filterEntity.road_tax_exemption = '';\r\n    }\r\n   \r\n   \r\n    if(visibleOption == 'statusSearch'){\r\n      this.statusSearch = !this.statusSearch;\r\n      this.filterEntity.statusString = '';\r\n    }\r\n   }\r\n   tableExport()\r\n   {\r\n    \r\n     this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n       var subsidyModel = this.dataSource.filteredData[i];\r\n      //this.exportedData.push({name: `name${i}`, description: `description${i}`,\r\n      //statusString: `statusString${i}`});\r\n      var data = {'State Name':subsidyModel.state_name,'Vechicle Type':subsidyModel.vehicle_type,'Battery Per KWh':subsidyModel.per_KWh_of_battery,\r\n      'Capcity':subsidyModel.capacity,'Road Tax Exemption':subsidyModel.road_tax_exemption,'Status':subsidyModel.statusString};\r\n      this.exportedData.push(data);\r\n    }\r\n\r\n\r\n     const workSheet = XLSX.utils.json_to_sheet(this.exportedData);\r\n       const workBook: XLSX.WorkBook = XLSX.utils.book_new();\r\n     \r\n       XLSX.utils.book_append_sheet(workBook, workSheet, 'Subsidy 2 Wheelers List List');\r\n       XLSX.writeFile(workBook, 'Subsidy 2 Wheelers.xlsx');\r\n   }\r\n\r\n   pdfExport(){\r\n    \r\n    var doc = new jsPDF({ \r\n      \r\n    });\r\n    this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n      var subsidy = this.dataSource.filteredData[i];\r\n     \r\n     var data =[subsidy.state_name,subsidy.vehicle_type,subsidy.per_KWh_of_battery,subsidy.capacity,subsidy.road_tax_exemption,subsidy.statusString] ;\r\n     \r\n     this.exportedData.push(data);\r\n   }\r\n   var img = new Image();\r\n   var imgRight = new Image();\r\n    var src = 'assets/images/logos/logo_sparkev_main.png';\r\n    var srcSparkEV = 'assets/images/logos/logo_SparkEV_black.png';\r\n   imgRight.src =srcSparkEV;\r\n   var createdDate = new Date().toLocaleString(('en-GB'));\r\n   img.src = src;\r\n   doc.setFontSize(11);\r\n   doc.setTextColor(100);\r\n   doc.setFontSize(18);\r\n   \r\n    (doc as any).autoTable({\r\n      head: this.head,\r\n      body: this.exportedData,\r\n      theme: 'grid',\r\n      headStyles: { fontStyle: 'majalla',fillColor:[11, 148, 68]},\r\n      styles: {\r\n        cellPadding: 1,\r\n        fontSize: 8,\r\n        \r\n      },\r\n     \r\n      margin: { top: 22 },\r\n      didDrawCell: data => {\r\n      },\r\n      didDrawPage:data=>{\r\n        doc.addImage(img , 15, 7, 15, 6);\r\n        doc.addImage(imgRight, 170, 7, 25, 6);\r\n        \r\n        doc.text('Subsidy 2 Wheelers List Report' ,doc.internal.pageSize.getWidth() / 2, 11, { align: 'center'});\r\n        \r\n        doc.setTextColor(211,211,211);\r\n        doc.setFontSize(60);\r\n        doc.setGState( doc.GState({opacity: 0.6}));\r\n        doc.text('Confidential/Not for Public use',25,285,null,60, );\r\n        doc.setGState( doc.GState({opacity: 1}));\r\n        doc.setTextColor(100);\r\n        doc.setFontSize(9);\r\n        doc.text('Date:'+ createdDate ,15, 18);\r\n        \r\n        doc.text('Generated By:'+ this.localStorage.f_Name ,195, 18,{ align: 'right'});\r\n        doc = this.addWaterMark(doc);\r\n      }\r\n    })\r\n  \r\n    // below line for Open PDF document in new tab\r\n    doc.output('dataurlnewwindow')\r\n    \r\n    // below line for Download PDF document  \r\n    doc.save('Subsidy 2 Wheelers.pdf');\r\n   \r\n  }\r\n  addWaterMark(doc){\r\n    var newpage = doc.getNumberOfPages();\r\n    const i = doc.internal.getNumberOfPages();\r\n    doc.setTextColor(100);\r\n        doc.setFontSize(10);\r\n     //Print Page 1 of 4 for example\r\n     \r\n     doc.text('Page ' +  String(i) + ' of ' + String(newpage),210-20,297-10,null,null,\"right\")\r\n    return doc;\r\n  \r\n  }\r\n}\r\n\r\n","<!---mat-form-field>\r\n    <mat-label>Filter</mat-label>\r\n    <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"\" #input autocomplete=\"password\">\r\n</mat-form-field-->\r\n<div style=\"text-align: left ;\r\n            margin-left: 10px;\r\n            margin-bottom:10px;margin-top: 10px;\">\r\n    <button mat-mini-fab  color=\"primary\" (click)=\"tableExport()\"  matTooltip=\"Excel Download\">\r\n        <mat-icon>sim_card_download</mat-icon> \r\n      </button>&nbsp;&nbsp;\r\n      <button mat-mini-fab  color=\"primary\" (click)=\"pdfExport()\"  matTooltip=\"PDF Download\">\r\n        <mat-icon>picture_as_pdf</mat-icon> \r\n      </button>\r\n    <!-- <img      src=\"/assets/images/excel_icon.png\" matTooltip=\"export to excel\" width=\"36px\" height=\"auto\" style=\"cursor:pointer;margin-bottom: 18px;float:inline-end;\"/> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"page-layout simple fullwidth\" style=\"overflow: scroll;\">\r\n    <div class=\"content\" style=\"min-width: auto;\">\r\n\r\n        <div class=\"mat-elevation-z8\">\r\n            <table mat-table matTableFilter [dataSource]=\"dataSource\" [exampleEntity]=\"filterEntity\"\r\n                [filterType]=\"filterType\" matSort class=\"mat-elevation-z8\" mat-sort>\r\n                <ng-container matColumnDef=\"state_name\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!stateSearch\" class=\"custom_font_size\" style=\"display: flex;\">State Name &nbsp;&nbsp; <mat-icon matSuffix\r\n                                (click)=\"changeVisibility('stateSearch',$event)\">search</mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"stateSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"State Name\" [(ngModel)]=\"filterEntity.state_name\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('stateSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.state_name}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"vehicle_type\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!vehicleSearch\" class=\"custom_font_size\" style=\"display: flex;\">Vehicle Name &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"vehicleSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Vehicle Name \" [(ngModel)]=\"filterEntity.vehicle_type\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">highlight_off</mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.vehicle_type}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"per_KWh_of_battery\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!batterySearch\" class=\"custom_font_size\" style=\"display: flex;\">Battery Per KWh\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"batterySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Battery Per KWh \" [(ngModel)]=\"filterEntity.per_KWh_of_battery\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.per_KWh_of_battery}} </td>\r\n                </ng-container>\r\n              \r\n                <ng-container matColumnDef=\"capacity\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!capcitySearch\" class=\"custom_font_size\" style=\"display: flex;\">Capacity\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"capcitySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Capacity \" [(ngModel)]=\"filterEntity.capacity\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.capacity}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"road_tax_exemption\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!roadSearch\" class=\"custom_font_size\" style=\"display: flex;\">Road Tax Exemption\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"roadSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Road Tax Exemption \" [(ngModel)]=\"filterEntity.road_tax_exemption\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.road_tax_exemption}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"status\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!statusSearch\" class=\"custom_font_size\" style=\"display: flex;\">Status &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"statusSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Status\" [(ngModel)]=\"filterEntity.statusString\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\" [style.color]=\"row.status == 'Y' ? 'green' : 'red'\">\r\n                        {{row.statusString }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"action\">\r\n                    <th mat-header-cell *matHeaderCellDef>\r\n                        <span class=\"custom_font_size\">Action</span>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let element\">\r\n                        <!-- <button mat-raised-button color=\"primary\"\r\n                                (click)=\"openDialog('EDIT',element)\">Edit</button>\r\n                        <button mat-raised-button color=\"warn\" (click)=\"delete(element.id)\"\r\n                                style=\"margin-left: 1%;\">Remove</button> </td> -->\r\n                        <!-- <mat-icon color=\"primary\" matTooltip=\"View\" (click)=\"viewDialog('VIEW',element)\"\r\n                            style=\"cursor:pointer\">visibility</mat-icon>&nbsp;&nbsp;\r\n                        <mat-icon color=\"primary\" matTooltip=\"Edit\" (click)=\"openDialog('EDIT',element)\"\r\n                            style=\"cursor:pointer\">edit</mat-icon>&nbsp;&nbsp; -->\r\n                            <mat-icon color=\"primary\" matTooltip=\"Moderate\" (click)=\"viewDialog('Publish',element,'modrateAction')\" style=\"cursor:pointer\">published_with_changes</mat-icon>&nbsp;&nbsp;\r\n                        <!-- <mat-icon color=\"warn\" matTooltip=\"Remove\" (click)=\"delete(element.id)\" style=\"cursor:pointer\">\r\n                            delete</mat-icon> -->\r\n                </ng-container>\r\n\r\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n\r\n                <!-- Row shown when there is no matching data. -->\r\n\r\n            </table>\r\n\r\n            <mat-paginator [pageSizeOptions]=\"[10,30,50,100]\"></mat-paginator>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Copyright 2020 Google LLC. All Rights Reserved.\r\n      Use of this source code is governed by an MIT-style license that\r\n      can be found in the LICENSE file at http://angular.io/license -->","\r\nimport {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {MatPaginator} from '@angular/material/paginator';\r\nimport {MatSort} from '@angular/material/sort';\r\nimport {MatTableDataSource} from '@angular/material/table';\r\nimport { ActionDialogComponent } from '../action-dialog/action-dialog.component';\r\nimport { MatDialog,MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport { MatTableFilter } from 'mat-table-filter';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport {FuseConfirmDialogComponent} from '@fuse/components/confirm-dialog/confirm-dialog.component';\r\nimport { ViewDialogComponent } from '../view-dialog/view-dialog.component';\r\nimport * as XLSX from 'xlsx';\r\nimport { jsPDF } from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nexport class Cpo {\r\n  id: string;\r\n  state_name: string;\r\n  per_KWh_of_battery: string;\r\n  capacity: string;\r\n  max_subsidy: string;\r\n  road_tax_exemption: string;\r\n  vehicle_type_id: string;\r\n  status: string;\r\n  created_date: string;\r\n  createdby: number;\r\n  modify_date: string;\r\n  modifyby: number;\r\n  statusString:string;\r\n  vehicle_type :string;\r\n}\r\n\r\n/**\r\n * @title Data table with sorting, pagination, and filtering.\r\n */\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class ListComponent implements OnInit {\r\n \r\n  displayedColumns: string[] = [ 'state_name','vehicle_type','per_KWh_of_battery','capacity', 'road_tax_exemption','status','action'];\r\n  head = [['State Name', 'Vehicle Type','Battery Per KWh','Capacity','Road Tax','Status']];\r\n  dataSource: MatTableDataSource<Cpo>;\r\n  filterEntity: Cpo;\r\n  filterType: MatTableFilter;\r\n  localStorage : any;\r\n  subsidys : Cpo[];\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n  confirmDialogRef: MatDialogRef<FuseConfirmDialogComponent>;\r\n  dialogRef: any;\r\n  stateSearch = false;\r\n  vehicleSearch = false;\r\n  batterySearch = false;\r\n  capcitySearch = false;\r\n  roadSearch = false;\r\n  statusSearch = false;\r\n  exportedData: any[];\r\n  \r\n  constructor(private govtSubsidyService : GovtSubsidyService,public dialog : MatDialog,\r\n    private snackBar : MatSnackBar) {\r\n    // Create 100 users\r\n    // const users = Array.from({length: 100}, (_, k) => createNewUser(k + 1));\r\n\r\n    // Assign the data to the data source for the table to render\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.localStorage = JSON.parse( localStorage.getItem('userDetails'));\r\n    this.getModrateSubsidy();\r\n    this.filterEntity = new Cpo();\r\n    this.filterType = MatTableFilter.ANYWHERE;\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n\r\n    if (this.dataSource.paginator) {\r\n      this.dataSource.paginator.firstPage();\r\n    }\r\n  }\r\n\r\n  getModrateSubsidy(){\r\n    \r\n    this.govtSubsidyService.getAllModerateSubsidyList().subscribe(\r\n      (resp:any)=>{\r\n       \r\n        if(resp != null){\r\n          this.subsidys = resp.data;\r\n          for(var i=0; i < this.subsidys.length;i++){\r\n            if(this.subsidys[i].status == 'N'){\r\n              this.subsidys[i].statusString = 'Inactive';\r\n            }else{\r\n              this.subsidys[i].statusString = 'Moderate';\r\n            }\r\n            \r\n           \r\n          }\r\n          this.dataSource = new MatTableDataSource(this.subsidys);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSource.sort = this.sort;\r\n        }else{\r\n          this.snackBar.open(MessageConstant.NoRecordFoundMessage, 'Dismiss',{duration : 3000 })\r\n          return;\r\n        }\r\n      },(err)=>{\r\n        //;\r\n      }\r\n    )\r\n  }\r\n\r\n  delete(id){\r\n    this.confirmDialogRef = this.dialog.open(FuseConfirmDialogComponent, {\r\n      disableClose: true\r\n  });\r\n  this.confirmDialogRef.afterClosed().subscribe(result => {\r\n    if ( result )\r\n    {\r\n      this.govtSubsidyService.deleteSubsidy(id,this.localStorage.userId).subscribe(\r\n        (data:any)=>{\r\n          \r\n          this.getModrateSubsidy();\r\n          this.snackBar.open(MessageConstant.deleteMessage,'Dismiss',{duration:2000});\r\n        },(err)=>{\r\n          \r\n        }\r\n      )\r\n    }\r\n    this.confirmDialogRef = null;\r\n});\r\n  \r\n  }\r\n\r\n  publishSubsidy(element){\r\n\r\n  }\r\n  openDialog(action,data): void {\r\n    \r\n    let params = {\r\n      action : action,\r\n      data : data,\r\n    \r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ActionDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      autoFocus: false,\r\n      panelClass: 'app-action-dialog', \r\n      disableClose: true   \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getModrateSubsidy();\r\n    });\r\n  }\r\n  viewDialog(action,data,buttonAction) : void{\r\n    let params = {\r\n      action : action,\r\n      data : data,\r\n      buttonAction:buttonAction\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ViewDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      panelClass: 'app-action-dialog',\r\n      autoFocus: false,\r\n      disableClose: true    \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getModrateSubsidy();\r\n    });\r\n  }\r\n  changeVisibility(visibleOption,ev){\r\n\r\n    ev.stopPropagation();\r\n    // visibleOption = !visibleOption;\r\n    //nameSearch = false;\r\n      //descSearch = false;\r\n    if(visibleOption == 'stateSearch'){\r\n      this.stateSearch = !this.stateSearch;\r\n      this.filterEntity.state_name = '';\r\n    }\r\n    if(visibleOption == 'vehicleSearch'){\r\n      this.vehicleSearch = !this.vehicleSearch;\r\n      this.filterEntity.vehicle_type = '';\r\n    }\r\n    if(visibleOption == 'batterySearch'){\r\n      this.batterySearch = !this.batterySearch;\r\n      this.filterEntity.per_KWh_of_battery = '';\r\n    }\r\n    if(visibleOption == 'capcitySearch'){\r\n      this.capcitySearch = !this.capcitySearch;\r\n      this.filterEntity.capacity = '';\r\n    }\r\n    if(visibleOption == 'roadSearch'){\r\n      this.roadSearch = !this.roadSearch;\r\n      this.filterEntity.road_tax_exemption = '';\r\n    }\r\n   \r\n   \r\n    if(visibleOption == 'statusSearch'){\r\n      this.statusSearch = !this.statusSearch;\r\n      this.filterEntity.statusString = '';\r\n    }\r\n   }\r\n   tableExport()\r\n   {\r\n    \r\n     this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n       var subsidyModel = this.dataSource.filteredData[i];\r\n      //this.exportedData.push({name: `name${i}`, description: `description${i}`,\r\n      //statusString: `statusString${i}`});\r\n      var data = {'State Name':subsidyModel.state_name,'Vechicle Type':subsidyModel.vehicle_type,'Battery Per KWh':subsidyModel.per_KWh_of_battery,\r\n      'Capcity':subsidyModel.capacity,'Road Tax Exemption':subsidyModel.road_tax_exemption,'Status':subsidyModel.statusString};\r\n      this.exportedData.push(data);\r\n    }\r\n\r\n\r\n     const workSheet = XLSX.utils.json_to_sheet(this.exportedData);\r\n       const workBook: XLSX.WorkBook = XLSX.utils.book_new();\r\n     \r\n       XLSX.utils.book_append_sheet(workBook, workSheet, 'Subsidy Modrate List');\r\n       XLSX.writeFile(workBook, 'Subsidy Modrate.xlsx');\r\n   }\r\n\r\n   pdfExport(){\r\n    \r\n    var doc = new jsPDF({ \r\n      \r\n    });\r\n    this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n      var subsidy = this.dataSource.filteredData[i];\r\n     \r\n     var data =[subsidy.state_name,subsidy.vehicle_type,subsidy.per_KWh_of_battery,subsidy.capacity,subsidy.road_tax_exemption,subsidy.statusString] ;\r\n     \r\n     this.exportedData.push(data);\r\n   }\r\n   var img = new Image();\r\n   var imgRight = new Image();\r\n    var src = 'assets/images/logos/logo_sparkev_main.png';\r\n    var srcSparkEV = 'assets/images/logos/logo_SparkEV_black.png';\r\n   imgRight.src =srcSparkEV;\r\n   var createdDate = new Date().toLocaleString(('en-GB'));\r\n   img.src = src;\r\n   doc.setFontSize(11);\r\n   doc.setTextColor(100);\r\n   doc.setFontSize(18);\r\n   \r\n    (doc as any).autoTable({\r\n      head: this.head,\r\n      body: this.exportedData,\r\n      theme: 'grid',\r\n      headStyles: { fontStyle: 'majalla',fillColor:[11, 148, 68]},\r\n      styles: {\r\n        cellPadding: 1,\r\n        fontSize: 8,\r\n        \r\n      },\r\n     \r\n      margin: { top: 22 },\r\n      didDrawCell: data => {\r\n      },\r\n      didDrawPage:data=>{\r\n        doc.addImage(img , 15, 7, 15, 6);\r\n        doc.addImage(imgRight, 170, 7, 25, 6);\r\n        \r\n        doc.text('Subsidy Modrate List Report' ,doc.internal.pageSize.getWidth() / 2, 11, { align: 'center'});\r\n        \r\n        doc.setTextColor(211,211,211);\r\n        doc.setFontSize(60);\r\n        doc.setGState( doc.GState({opacity: 0.6}));\r\n        doc.text('Confidential/Not for Public use',25,285,null,60, );\r\n        doc.setGState( doc.GState({opacity: 1}));\r\n        doc.setTextColor(100);\r\n        doc.setFontSize(9);\r\n        doc.text('Date:'+ createdDate ,15, 18);\r\n        \r\n        doc.text('Generated By:'+ this.localStorage.f_Name ,195, 18,{ align: 'right'});\r\n        doc = this.addWaterMark(doc);\r\n      }\r\n    })\r\n  \r\n    // below line for Open PDF document in new tab\r\n    doc.output('dataurlnewwindow')\r\n    \r\n    // below line for Download PDF document  \r\n    doc.save('Subsidy Modrate.pdf');\r\n   \r\n  }\r\n  addWaterMark(doc){\r\n    var newpage = doc.getNumberOfPages();\r\n    const i = doc.internal.getNumberOfPages();\r\n    doc.setTextColor(100);\r\n        doc.setFontSize(10);\r\n     //Print Page 1 of 4 for example\r\n     \r\n     doc.text('Page ' +  String(i) + ' of ' + String(newpage),210-20,297-10,null,null,\"right\")\r\n    return doc;\r\n  \r\n  }\r\n}\r\n\r\n","<!---mat-form-field>\r\n    <mat-label>Filter</mat-label>\r\n    <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"\" #input autocomplete=\"password\">\r\n</mat-form-field-->\r\n<div style=\"text-align: left ;\r\n            margin-left: 10px;\r\n            margin-bottom:10px;margin-top: 10px;\">\r\n    <button mat-mini-fab  color=\"primary\" (click)=\"tableExport()\"  matTooltip=\"Excel Download\">\r\n        <mat-icon>sim_card_download</mat-icon> \r\n      </button>&nbsp;&nbsp;\r\n      <button mat-mini-fab  color=\"primary\" (click)=\"pdfExport()\"  matTooltip=\"PDF Download\">\r\n        <mat-icon>picture_as_pdf</mat-icon> \r\n      </button>\r\n    <!-- <img      src=\"/assets/images/excel_icon.png\" matTooltip=\"export to excel\" width=\"36px\" height=\"auto\" style=\"cursor:pointer;margin-bottom: 18px;float:inline-end;\"/> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"page-layout simple fullwidth\" style=\"overflow: scroll;\">\r\n    <div class=\"content\" style=\"min-width: auto;\">\r\n\r\n        <div class=\"mat-elevation-z8\">\r\n            <table mat-table matTableFilter [dataSource]=\"dataSource\" [exampleEntity]=\"filterEntity\"\r\n                [filterType]=\"filterType\" matSort class=\"mat-elevation-z8\" mat-sort>\r\n                <ng-container matColumnDef=\"state_name\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!stateSearch\" class=\"custom_font_size\" style=\"display: flex;\">State Name &nbsp;&nbsp; <mat-icon matSuffix\r\n                                (click)=\"changeVisibility('stateSearch',$event)\">search</mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"stateSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"State Name\" [(ngModel)]=\"filterEntity.state_name\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('stateSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.state_name}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"vehicle_type\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!vehicleSearch\" class=\"custom_font_size\" style=\"display: flex;\">Vehicle Name &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"vehicleSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Vehicle Name \" [(ngModel)]=\"filterEntity.vehicle_type\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">highlight_off</mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.vehicle_type}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"per_KWh_of_battery\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!batterySearch\" class=\"custom_font_size\" style=\"display: flex;\">Battery Per KWh\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"batterySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Battery Per KWh \" [(ngModel)]=\"filterEntity.per_KWh_of_battery\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.per_KWh_of_battery}} </td>\r\n                </ng-container>\r\n              \r\n                <ng-container matColumnDef=\"capacity\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!capcitySearch\" class=\"custom_font_size\" style=\"display: flex;\">Capacity\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"capcitySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Capacity \" [(ngModel)]=\"filterEntity.capacity\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.capacity}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"road_tax_exemption\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!roadSearch\" class=\"custom_font_size\" style=\"display: flex;\">Road Tax Exemption\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"roadSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Road Tax Exemption \" [(ngModel)]=\"filterEntity.road_tax_exemption\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.road_tax_exemption}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"status\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!statusSearch\" class=\"custom_font_size\" style=\"display: flex;\">Status &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"statusSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Status\" [(ngModel)]=\"filterEntity.statusString\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\" [style.color]=\"row.status == 'Y' ? 'green' : 'red'\">\r\n                        {{row.statusString }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"action\">\r\n                    <th mat-header-cell *matHeaderCellDef>\r\n                        <span class=\"custom_font_size\">Action</span>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let element\">\r\n                        <!-- <button mat-raised-button color=\"primary\"\r\n                                (click)=\"openDialog('EDIT',element)\">Edit</button>\r\n                        <button mat-raised-button color=\"warn\" (click)=\"delete(element.id)\"\r\n                                style=\"margin-left: 1%;\">Remove</button> </td> -->\r\n                        <mat-icon color=\"primary\" matTooltip=\"View\" (click)=\"viewDialog('VIEW',element,'viewAction')\"\r\n                            style=\"cursor:pointer\">visibility</mat-icon>&nbsp;&nbsp;\r\n                        <mat-icon color=\"primary\" matTooltip=\"Edit\" (click)=\"openDialog('EDIT',element)\"\r\n                            style=\"cursor:pointer\">edit</mat-icon>&nbsp;&nbsp;\r\n                            <mat-icon color=\"primary\" matTooltip=\"Publish\" (click)=\"viewDialog('Publish',element,'publishAction')\" style=\"cursor:pointer\">published_with_changes</mat-icon>&nbsp;&nbsp;\r\n                        <mat-icon color=\"warn\" matTooltip=\"Remove\" (click)=\"delete(element.id)\" style=\"cursor:pointer\">\r\n                            delete</mat-icon>\r\n                </ng-container>\r\n\r\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n\r\n                <!-- Row shown when there is no matching data. -->\r\n\r\n            </table>\r\n\r\n            <mat-paginator [pageSizeOptions]=\"[10,30,50,100]\"></mat-paginator>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Copyright 2020 Google LLC. All Rights Reserved.\r\n      Use of this source code is governed by an MIT-style license that\r\n      can be found in the LICENSE file at http://angular.io/license -->","\r\nimport {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {MatPaginator} from '@angular/material/paginator';\r\nimport {MatSort} from '@angular/material/sort';\r\nimport {MatTableDataSource} from '@angular/material/table';\r\nimport { ActionDialogComponent } from '../action-dialog/action-dialog.component';\r\nimport { MatDialog,MatDialogRef } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport { MatTableFilter } from 'mat-table-filter';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport {FuseConfirmDialogComponent} from '@fuse/components/confirm-dialog/confirm-dialog.component';\r\nimport { ViewDialogComponent } from '../view-dialog/view-dialog.component';\r\nimport * as XLSX from 'xlsx';\r\nimport { jsPDF } from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nexport class Cpo {\r\n  id: string;\r\n  state_name: string;\r\n  per_KWh_of_battery: string;\r\n  capacity: string;\r\n  max_subsidy: string;\r\n  road_tax_exemption: string;\r\n  vehicle_type_id: string;\r\n  status: string;\r\n  created_date: string;\r\n  createdby: number;\r\n  modify_date: string;\r\n  modifyby: number;\r\n  statusString:string;\r\n  vehicle_type :string;\r\n}\r\n\r\n/**\r\n * @title Data table with sorting, pagination, and filtering.\r\n */\r\n@Component({\r\n  selector: 'app-list4Wheelers',\r\n  templateUrl: './list4Wheelers.component.html',\r\n  styleUrls: ['./list4Wheelers.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class List4WheelersComponent implements OnInit {\r\n \r\n  displayedColumns: string[] = [ 'state_name','vehicle_type','per_KWh_of_battery','capacity', 'road_tax_exemption','status','action'];\r\n  head = [['State Name', 'Vehicle Type','Battery Per KWh','Capacity','Road Tax','Status']];\r\n  dataSource: MatTableDataSource<Cpo>;\r\n  filterEntity: Cpo;\r\n  filterType: MatTableFilter;\r\n  localStorage : any;\r\n  subsidys : Cpo[];\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n  confirmDialogRef: MatDialogRef<FuseConfirmDialogComponent>;\r\n  dialogRef: any;\r\n  stateSearch = false;\r\n  vehicleSearch = false;\r\n  batterySearch = false;\r\n  capcitySearch = false;\r\n  roadSearch = false;\r\n  statusSearch = false;\r\n  exportedData: any[];\r\n  \r\n  constructor(private govtSubsidyService : GovtSubsidyService,public dialog : MatDialog,\r\n    private snackBar : MatSnackBar) {\r\n    // Create 100 users\r\n    // const users = Array.from({length: 100}, (_, k) => createNewUser(k + 1));\r\n\r\n    // Assign the data to the data source for the table to render\r\n  }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.localStorage = JSON.parse( localStorage.getItem('userDetails'));\r\n    this.getCpos();\r\n    this.filterEntity = new Cpo();\r\n    this.filterType = MatTableFilter.ANYWHERE;\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n\r\n    if (this.dataSource.paginator) {\r\n      this.dataSource.paginator.firstPage();\r\n    }\r\n  }\r\n\r\n  getCpos(){\r\n    \r\n    this.govtSubsidyService.getSubsidyByVehicleTypeId(\"Four Wheeler\").subscribe(\r\n      (resp:any)=>{\r\n       \r\n        if(resp != null){\r\n          this.subsidys = resp.data;\r\n          for(var i=0; i < this.subsidys.length;i++){\r\n            if(this.subsidys[i].status == 'N'){\r\n              this.subsidys[i].statusString = 'Inactive';\r\n            }else{\r\n              this.subsidys[i].statusString = 'Active';\r\n            }\r\n            \r\n           \r\n          }\r\n          this.dataSource = new MatTableDataSource(this.subsidys);\r\n          this.dataSource.paginator = this.paginator;\r\n          this.dataSource.sort = this.sort;\r\n        }else{\r\n          this.snackBar.open(MessageConstant.NoRecordFoundMessage, 'Dismiss',{duration : 3000 })\r\n          return;\r\n        }\r\n      },(err)=>{\r\n        //;\r\n      }\r\n    )\r\n  }\r\n\r\n  delete(id){\r\n    this.confirmDialogRef = this.dialog.open(FuseConfirmDialogComponent, {\r\n      disableClose: true\r\n  });\r\n\r\n  \r\n  }\r\n\r\n\r\n  openDialog(action,data): void {\r\n    \r\n    let params = {\r\n      action : action,\r\n      data : data\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ActionDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      autoFocus: false,\r\n      panelClass: 'app-action-dialog', \r\n      disableClose: true   \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getCpos();\r\n    });\r\n  }\r\n  viewDialog(action,data,buttonAction) : void{\r\n    let params = {\r\n      action : action,\r\n      data : data,\r\n      buttonAction:buttonAction\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ViewDialogComponent, {\r\n      width: '800px',\r\n      data: params,\r\n      panelClass: 'app-action-dialog',\r\n      autoFocus: false,\r\n      disableClose: true    \r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      \r\n      // this.moderate(result);\r\n      this.getCpos();\r\n    });\r\n  }\r\n  changeVisibility(visibleOption,ev){\r\n\r\n    ev.stopPropagation();\r\n    // visibleOption = !visibleOption;\r\n    //nameSearch = false;\r\n      //descSearch = false;\r\n    if(visibleOption == 'stateSearch'){\r\n      this.stateSearch = !this.stateSearch;\r\n      this.filterEntity.state_name = '';\r\n    }\r\n    if(visibleOption == 'vehicleSearch'){\r\n      this.vehicleSearch = !this.vehicleSearch;\r\n      this.filterEntity.vehicle_type = '';\r\n    }\r\n    if(visibleOption == 'batterySearch'){\r\n      this.batterySearch = !this.batterySearch;\r\n      this.filterEntity.per_KWh_of_battery = '';\r\n    }\r\n    if(visibleOption == 'capcitySearch'){\r\n      this.capcitySearch = !this.capcitySearch;\r\n      this.filterEntity.capacity = '';\r\n    }\r\n    if(visibleOption == 'roadSearch'){\r\n      this.roadSearch = !this.roadSearch;\r\n      this.filterEntity.road_tax_exemption = '';\r\n    }\r\n   \r\n   \r\n    if(visibleOption == 'statusSearch'){\r\n      this.statusSearch = !this.statusSearch;\r\n      this.filterEntity.statusString = '';\r\n    }\r\n   }\r\n   tableExport()\r\n   {\r\n    \r\n     this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n       var subsidyModel = this.dataSource.filteredData[i];\r\n      //this.exportedData.push({name: `name${i}`, description: `description${i}`,\r\n      //statusString: `statusString${i}`});\r\n      var data = {'State Name':subsidyModel.state_name,'Vechicle Type':subsidyModel.vehicle_type,'Battery Per KWh':subsidyModel.per_KWh_of_battery,\r\n      'Capcity':subsidyModel.capacity,'Road Tax Exemption':subsidyModel.road_tax_exemption,'Status':subsidyModel.statusString};\r\n      this.exportedData.push(data);\r\n    }\r\n\r\n\r\n     const workSheet = XLSX.utils.json_to_sheet(this.exportedData);\r\n       const workBook: XLSX.WorkBook = XLSX.utils.book_new();\r\n     \r\n       XLSX.utils.book_append_sheet(workBook, workSheet, 'Subsidy 4 Wheelers List');\r\n       XLSX.writeFile(workBook, 'Subsidy 4Wheelers.xlsx');\r\n   }\r\n\r\n   pdfExport(){\r\n    \r\n    var doc = new jsPDF({ \r\n      \r\n    });\r\n    this.exportedData = [];\r\n    for (let i = 0; i < this.dataSource.filteredData.length; i++) {\r\n      var subsidy = this.dataSource.filteredData[i];\r\n     \r\n     var data =[subsidy.state_name,subsidy.vehicle_type,subsidy.per_KWh_of_battery,subsidy.capacity,subsidy.road_tax_exemption,subsidy.statusString] ;\r\n     \r\n     this.exportedData.push(data);\r\n   }\r\n   var img = new Image();\r\n   var imgRight = new Image();\r\n    var src = 'assets/images/logos/logo_sparkev_main.png';\r\n    var srcSparkEV = 'assets/images/logos/logo_SparkEV_black.png';\r\n   imgRight.src =srcSparkEV;\r\n   var createdDate = new Date().toLocaleString(('en-GB'));\r\n   img.src = src;\r\n   doc.setFontSize(11);\r\n   doc.setTextColor(100);\r\n   doc.setFontSize(18);\r\n   \r\n    (doc as any).autoTable({\r\n      head: this.head,\r\n      body: this.exportedData,\r\n      theme: 'grid',\r\n      headStyles: { fontStyle: 'majalla',fillColor:[11, 148, 68]},\r\n      styles: {\r\n        cellPadding: 1,\r\n        fontSize: 8,\r\n        \r\n      },\r\n     \r\n      margin: { top: 22 },\r\n      didDrawCell: data => {\r\n      },\r\n      didDrawPage:data=>{\r\n        doc.addImage(img , 15, 7, 15, 6);\r\n        doc.addImage(imgRight, 170, 7, 25, 6);\r\n        \r\n        doc.text('Subsidy 4 Wheelers List Report' ,doc.internal.pageSize.getWidth() / 2, 11, { align: 'center'});\r\n        \r\n        doc.setTextColor(211,211,211);\r\n        doc.setFontSize(60);\r\n        doc.setGState( doc.GState({opacity: 0.6}));\r\n        doc.text('Confidential/Not for Public use',25,285,null,60, );\r\n        doc.setGState( doc.GState({opacity: 1}));\r\n        doc.setTextColor(100);\r\n        doc.setFontSize(9);\r\n        doc.text('Date:'+ createdDate ,15, 18);\r\n        \r\n        doc.text('Generated By:'+ this.localStorage.f_Name ,195, 18,{ align: 'right'});\r\n        doc = this.addWaterMark(doc);\r\n      }\r\n    })\r\n  \r\n    // below line for Open PDF document in new tab\r\n    doc.output('dataurlnewwindow')\r\n    \r\n    // below line for Download PDF document  \r\n    doc.save('Subsidy 4wheelers.pdf');\r\n   \r\n  }\r\n  addWaterMark(doc){\r\n    var newpage = doc.getNumberOfPages();\r\n    const i = doc.internal.getNumberOfPages();\r\n    doc.setTextColor(100);\r\n        doc.setFontSize(10);\r\n     //Print Page 1 of 4 for example\r\n     \r\n     doc.text('Page ' +  String(i) + ' of ' + String(newpage),210-20,297-10,null,null,\"right\")\r\n    return doc;\r\n  \r\n  }\r\n}\r\n\r\n","<!---mat-form-field>\r\n    <mat-label>Filter</mat-label>\r\n    <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"\" #input autocomplete=\"password\">\r\n</mat-form-field-->\r\n<div style=\"text-align: left ;\r\n            margin-left: 10px;\r\n            margin-bottom:10px;margin-top: 10px;\">\r\n    <button mat-mini-fab  color=\"primary\" (click)=\"tableExport()\"  matTooltip=\"Excel Download\">\r\n        <mat-icon>sim_card_download</mat-icon> \r\n      </button>&nbsp;&nbsp;\r\n      <button mat-mini-fab  color=\"primary\" (click)=\"pdfExport()\"  matTooltip=\"PDF Download\">\r\n        <mat-icon>picture_as_pdf</mat-icon> \r\n      </button>\r\n    <!-- <img      src=\"/assets/images/excel_icon.png\" matTooltip=\"export to excel\" width=\"36px\" height=\"auto\" style=\"cursor:pointer;margin-bottom: 18px;float:inline-end;\"/> -->\r\n</div>\r\n<div fxLayout=\"row wrap\" class=\"page-layout simple fullwidth\" style=\"overflow: scroll;\">\r\n    <div class=\"content\" style=\"min-width: auto;\">\r\n\r\n        <div class=\"mat-elevation-z8\">\r\n            <table mat-table matTableFilter [dataSource]=\"dataSource\" [exampleEntity]=\"filterEntity\"\r\n                [filterType]=\"filterType\" matSort class=\"mat-elevation-z8\" mat-sort>\r\n                <ng-container matColumnDef=\"state_name\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!stateSearch\" class=\"custom_font_size\" style=\"display: flex;\">State Name &nbsp;&nbsp; <mat-icon matSuffix\r\n                                (click)=\"changeVisibility('stateSearch',$event)\">search</mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"stateSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"State Name\" [(ngModel)]=\"filterEntity.state_name\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('stateSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.state_name}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"vehicle_type\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!vehicleSearch\" class=\"custom_font_size\" style=\"display: flex;\">Vehicle Name &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"vehicleSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Vehicle Name \" [(ngModel)]=\"filterEntity.vehicle_type\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('vehicleSearch',$event)\">highlight_off</mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.vehicle_type}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"per_KWh_of_battery\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!batterySearch\" class=\"custom_font_size\" style=\"display: flex;\">Battery Per KWh\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"batterySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Battery Per KWh \" [(ngModel)]=\"filterEntity.per_KWh_of_battery\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('batterySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.per_KWh_of_battery}} </td>\r\n                </ng-container>\r\n              \r\n                <ng-container matColumnDef=\"capacity\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!capcitySearch\" class=\"custom_font_size\" style=\"display: flex;\">Capacity\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"capcitySearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Capacity \" [(ngModel)]=\"filterEntity.capacity\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('capcitySearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.capacity}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"road_tax_exemption\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!roadSearch\" class=\"custom_font_size\" style=\"display: flex;\">Road Tax Exemption\r\n                            &nbsp;&nbsp; <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">search\r\n                            </mat-icon> </span>\r\n                        <mat-form-field *ngIf=\"roadSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\" Road Tax Exemption \" [(ngModel)]=\"filterEntity.road_tax_exemption\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('roadSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\"> {{row.road_tax_exemption}} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"status\">\r\n                    <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span *ngIf=\"!statusSearch\" class=\"custom_font_size\" style=\"display: flex;\">Status &nbsp;&nbsp;\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">search</mat-icon>\r\n                        </span>\r\n                        <mat-form-field *ngIf=\"statusSearch\" appearance=\"outline\" class=\"list_input\">\r\n                            <input matInput placeholder=\"Status\" [(ngModel)]=\"filterEntity.statusString\">\r\n                            <mat-icon matSuffix (click)=\"changeVisibility('statusSearch',$event)\">highlight_off\r\n                            </mat-icon>\r\n                        </mat-form-field>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let row\" [style.color]=\"row.status == 'Y' ? 'green' : 'red'\">\r\n                        {{row.statusString }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"action\">\r\n                    <th mat-header-cell *matHeaderCellDef>\r\n                        <span class=\"custom_font_size\">Action</span>\r\n                    </th>\r\n                    <td mat-cell *matCellDef=\"let element\">\r\n                        <!-- <button mat-raised-button color=\"primary\"\r\n                                (click)=\"openDialog('EDIT',element)\">Edit</button>\r\n                        <button mat-raised-button color=\"warn\" (click)=\"delete(element.id)\"\r\n                                style=\"margin-left: 1%;\">Remove</button> </td> -->\r\n                        <!-- <mat-icon color=\"primary\" matTooltip=\"View\" (click)=\"viewDialog('VIEW',element)\"\r\n                            style=\"cursor:pointer\">visibility</mat-icon>&nbsp;&nbsp;\r\n                        <mat-icon color=\"primary\" matTooltip=\"Edit\" (click)=\"openDialog('EDIT',element)\"\r\n                            style=\"cursor:pointer\">edit</mat-icon>&nbsp;&nbsp; -->\r\n                            <mat-icon color=\"primary\" matTooltip=\"Moderate\" (click)=\"viewDialog('Publish',element,'modrateAction')\" style=\"cursor:pointer\">published_with_changes</mat-icon>&nbsp;&nbsp;\r\n                        <!-- <mat-icon color=\"warn\" matTooltip=\"Remove\" (click)=\"delete(element.id)\" style=\"cursor:pointer\">\r\n                            delete</mat-icon> -->\r\n                </ng-container>\r\n\r\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n\r\n                <!-- Row shown when there is no matching data. -->\r\n\r\n            </table>\r\n\r\n            <mat-paginator [pageSizeOptions]=\"[10,30,50,100]\"></mat-paginator>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Copyright 2020 Google LLC. All Rights Reserved.\r\n      Use of this source code is governed by an MIT-style license that\r\n      can be found in the LICENSE file at http://angular.io/license -->","import { NgModule } from '@angular/core'; \r\nimport { SharedModule } from 'app/shared/shared.module';\r\nimport { CreateComponent } from './create/create.component';\r\nimport { ListComponent } from './list/list.component';\r\nimport { ActionDialogComponent } from './action-dialog/action-dialog.component';\r\nimport { SubsidyCrudComponent } from './subsidy-crud/subsidy-crud.component';\r\nimport { SubsidyRoutingModule } from './subsidy-routing.module';\r\nimport { FuseSharedModule  } from '@fuse/shared.module';\r\nimport { ViewDialogComponent } from './view-dialog/view-dialog.component';\r\nimport { List4WheelersComponent } from './list4Wheelers/list4Wheelers.component';\r\nimport { List2WheelersComponent } from './list2Wheeler/list2Wheelers.component';\r\nconst COMPONENTS =[SubsidyCrudComponent, CreateComponent, List2WheelersComponent,List4WheelersComponent,ListComponent];\r\nconst COMPONENTS_DYNAMIC =[ActionDialogComponent,ViewDialogComponent];\r\n\r\n@NgModule({\r\n    imports:[SharedModule, SubsidyRoutingModule,FuseSharedModule],\r\n    declarations : [COMPONENTS,COMPONENTS_DYNAMIC],\r\n    entryComponents : [COMPONENTS_DYNAMIC]\r\n})\r\n\r\nexport class SubsidyModule{}","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup, ValidatorFn,AbstractControl } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { CpoService } from 'app/shared/services/cpo/cpo.service';\r\nimport { ClientService } from 'app/shared/services/client/client.service';\r\nimport {CountriesService} from 'app/shared/services/countries.service';\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\nimport { MessageConstant} from 'app/shared/utils/message.constant';\r\nimport {ViewEncapsulation} from '@angular/core';\r\nimport { fuseAnimations } from '@fuse/animations';\r\nimport { GovtSubsidyService } from 'app/shared/services/ev-space/govt-subsidy/govt-subsidy.service';\r\nfunction autocompleteObjectValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } | null => {\r\n    if (typeof control.value === 'string') {\r\n      return { 'invalidAutocompleteObject': { value: control.value } }\r\n    }\r\n    return null  /* valid option selected */\r\n  }\r\n}\r\n@Component({\r\n  selector: 'app-create',\r\n  templateUrl: './create.component.html',\r\n  styleUrls: ['./create.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations   : fuseAnimations\r\n})\r\nexport class CreateComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  localStorage : any;\r\n  filteredOptionState: Observable<any[]>;\r\n  filteredOptionsVehicle:Observable<any[]>;\r\n  stateName:any;\r\n \r\n  vehicles:any;\r\n  states:any;\r\n  state_id:any;\r\n  @ViewChild(\"toggleElement\") ref: any;\r\n  status = true;\r\n  errorMsg:String;\r\n  splitted:String;\r\n  constructor(private fb: FormBuilder,private snackBar: MatSnackBar,\r\n    private router : Router, private govtSubsidyService : GovtSubsidyService,public countryService: CountriesService) { }\r\n\r\n  ngOnInit() {\r\n    this.initialize();\r\n  }\r\n\r\n  initialize(){\r\n\r\n    this.localStorage = JSON.parse( localStorage.getItem('userDetails'));\r\n\r\n    this.getVehicle();\r\n    this.getStatesByCountry(1);\r\n    this.form = this.fb.group({\r\n      state:['',[autocompleteObjectValidator(),Validators.required]],\r\n      battery_kwh: ['', [Validators.required,Validators.pattern(/^[0-9]*$/)]],\r\n      capacity : ['', [Validators.required,Validators.pattern(/^[a-zA-Z0-9 ]*$/)]] ,\r\n      max_subsidy: [''],\r\n      road_tax_exemption : ['' ] ,     \r\n      vehicle:['',[autocompleteObjectValidator(),Validators.required]],\r\n     status : this.status == true ? 'M' : 'N'\r\n    });\r\n  \r\n \r\n  }\r\n  \r\n  getAllState(){\r\n    this.countryService.getAllState().subscribe(\r\n      (data:any)=>{\r\n        this.states = data;\r\n         this.filteredOptionState = this.form.controls.state.valueChanges\r\n           .pipe(\r\n             startWith(''),\r\n             map(value => typeof value === 'string' ? value : value.name),\r\n             map(name => name ? this._filterState(name) : this.states)\r\n           );\r\n         },(err)=>{\r\n           \r\n         }\r\n    )\r\n  }\r\n  \r\n \r\n  getVehicle(){\r\n    \r\n    this.localStorage = JSON.parse( localStorage.getItem('userDetails'));\r\n    this.govtSubsidyService.getVehicleTypes().subscribe(\r\n      (resp:any)=>{\r\n        this.vehicles = resp;\r\n        this.filteredOptionsVehicle = this.form.controls.vehicle.valueChanges\r\n        .pipe(\r\n          startWith(''),\r\n          map(value => typeof value === 'string' ? value : value.name),\r\n          map(name => name ? this._filtervehiclesModels(name) : this.vehicles)\r\n        );\r\n      },(err)=>{\r\n        \r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  onSubmit(){\r\n    if(this.form.valid){\r\n      let formValues = this.form.value;\r\n\r\n      let params = {\r\n        state_id : formValues.state.id,\r\n        per_KWh_of_battery:formValues.battery_kwh,\r\n        capacity:formValues.capacity,\r\n        max_subsidy:formValues.max_subsidy,\r\n        road_tax_exemption:formValues.road_tax_exemption,\r\n        vehicle_type_id:formValues.vehicle.id,\r\n        status :  this.status == true ? 'M' : 'N',   \r\n        createdby : this.localStorage.userId ,\r\n       \r\n      }\r\n  \r\n      \r\n      this.govtSubsidyService.subsidy(params).subscribe(\r\n        (resp:any )=>{\r\n          if(resp.status == true){\r\n            this.snackBar.open(MessageConstant.subsidyCreate, 'Dismiss', { duration: 5000 });\r\n            this.router.navigate(['/evSpace/govtSubsidy/crud/listModerate']);\r\n          }\r\n          else{\r\n              this.snackBar.open(resp.message, 'Dismiss', { duration: 5000 });\r\n            }\r\n           \r\n          \r\n          \r\n  \r\n        },\r\n        (err)=>{\r\n          ////\r\n          this.snackBar.open(MessageConstant.errorMessage, 'Dismiss', { duration: 5000 });\r\n        }\r\n      )\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  getErrorMessage(form: FormGroup) {\r\n    return form.get('email').hasError('required')\r\n      ? 'You must enter a value'\r\n      : form.get('email').hasError('email')\r\n      ? 'Not a valid email'\r\n      : '';\r\n  }\r\n  displayVehicle(item: any): string {\r\n    return item && item.name ? item.name : '';\r\n  }\r\n  private _filtervehiclesModels(name: string): any[] {\r\n    const filterValue = name.toLowerCase();\r\n    return this.vehicles.filter(option => option.name.toLowerCase().includes(filterValue));\r\n  }\r\n \r\ngetStatesByCountry(state){\r\n   this.state_id = state.id;\r\n   this.countryService.getStateByCountry(1 ).subscribe(\r\n    (statedata:any)=>{\r\n      //this.form.reset();\r\n      this.states = statedata;\r\n     // const toSelect = this.states.find(c => c.id == data[0].state_id);\r\n     // this.form.get('state').setValue(toSelect);\r\n      \r\n      this.filteredOptionState = this.form.controls.state.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value.name),\r\n        map(name => name ? this._filterState(name) : this.states)\r\n      );\r\n      \r\n    },(err)=>{\r\n      \r\n    }\r\n  )\r\n}\r\n\r\n\r\ndisplayState(item: any): string {\r\n  return item && item.name ? item.name : '';\r\n}\r\nprivate _filterState(name: string): any[] {\r\n  const filterValue = name.toLowerCase();\r\n  return this.states.filter(option => option.name.toLowerCase().includes(filterValue));\r\n}\r\n\r\n\r\nupdateStatus(event){\r\n  this.status = event.checked;\r\n  this.ref.checked = this.status;\r\n}\r\n}\r\n\r\n\r\n","\r\n<div id=\"forms\" class=\"page-layout simple fullwidth\" fxLayout=\"column\">\r\n  <form [formGroup]=\"form\" class=\"mat-card mat-elevation-z4 p-24 \" fxLayout=\"column\" fxLayoutAlign=\"start\"\r\n    fxFlex=\"1 0 auto\" name=\"form\" (submit)=\"onSubmit()\" (keydown.enter)=\"$event.preventDefault()\">\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>Vechicle Type</mat-label>\r\n        <input type=\"text\" matInput formControlName=\"vehicle\" autocomplete=\"off\" [matAutocomplete]=\"vehicleAuto\"\r\n          required>\r\n        <mat-autocomplete #vehicleAuto=\"matAutocomplete\" [displayWith]=\"displayVehicle\">\r\n          <mat-option *ngFor=\"let option of filteredOptionsVehicle | async\" [value]=\"option\">\r\n            {{option.name}}\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n\t\t\t\t\t<mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n          <mat-error *ngIf=\"form.get('vehicle').invalid\">Please select client </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>State</mat-label>\r\n        <input type=\"text\" matInput formControlName=\"state\" [matAutocomplete]=\"stateAuto\" autocomplete=\"off\"\r\n          required>\r\n        <mat-autocomplete #stateAuto=\"matAutocomplete\" [displayWith]=\"displayState\">\r\n          <mat-option *ngFor=\"let option of filteredOptionState | async\" [value]=\"option\">\r\n            {{option.name}}\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n        <div matSuffix style=\"display: flex;\">\r\n\t\t\t\t\t<mat-icon matSuffix class=\"secondary-text\">expand_more</mat-icon>\r\n          <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please select state\">location_city</mat-icon>\r\n        </div>\r\n          <mat-error *ngIf=\"form.get('state').invalid\">Please select state\r\n        </mat-error>\r\n      </mat-form-field>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>Battery Per kWH</mat-label>\r\n        <input matInput placeholder=\"\" formControlName=\"battery_kwh\" maxlength=\"50\" type=\"number\" autocomplete=\"off\" required>\r\n        \r\n        <mat-error *ngIf=\"form.get('battery_kwh').hasError('required')\">Please enter battery per kWH</mat-error>\r\n        <mat-error *ngIf=\"form.get('battery_kwh').hasError('pattern')\">Special character are not allowed</mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>Capacity</mat-label>\r\n        <input matInput placeholder=\"\" formControlName=\"capacity\" type=\"number\" autocomplete=\"off\" required>\r\n        <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Please enter mobile\">settings_cell</mat-icon>\r\n        <mat-error *ngIf=\"form.get('capacity').hasError('required')\">Please enter capacity</mat-error>\r\n      \r\n      </mat-form-field>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>Maximum Subsidy</mat-label>\r\n        <input matInput  formControlName=\"max_subsidy\"   type=\"number\" autocomplete=\"off\" maxlength=\"15\" >\r\n        <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"Maximum subsidy\">help</mat-icon>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field appearance=\"outline\" fxFlex=\"50\" class=\"pr-4\">\r\n        <mat-label>Road Tax Exemption</mat-label>\r\n        <input matInput placeholder=\"\" formControlName=\"road_tax_exemption\" type=\"number\"  autocomplete=\"off\"  >\r\n        <mat-icon matSuffix class=\"secondary-text\" matTooltip=\"TIN Format(01234567890)\">help</mat-icon>\r\n      </mat-form-field>\r\n    </div>\r\n    \r\n    \r\n   \r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"20px\" fxFlex=\"1 0 auto\">\r\n      <div fxFlex=\"50\" fxFlex.lt-sm=\"100\">\r\n        <mat-slide-toggle class=\"example-margin\" disabled color=\"primary\" [checked]=\"status\" (change)=\"updateStatus($event)\"\r\n          #toggleElement>\r\n          {{status ? 'Moderate' : 'Inactive'}}</mat-slide-toggle>\r\n      </div>\r\n    </div>\r\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" style=\"padding-top:10px\">\r\n      <button mat-raised-button color=\"primary\" class=\"mr-8\">Save</button>\r\n      <button mat-raised-button color=\"warn\" class=\"mr-8\" type=\"button\" routerLink=\"/evSpace/govtSubsidy/crud/listModerate\">Cancel</button>\r\n    </div>\r\n\r\n  </form>\r\n</div>"]}